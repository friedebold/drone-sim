(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{231:function(t,e,o){"use strict";var n,r,c,i,a,l,s,u,h,_,d,f,v,b=o(52),g=o.n(b),j=o(13),k=o.n(j),p=o(199),m=o.n(p),x=o(232),w=o(0),O=o(145),S=o(53),y=o(37),A=o(84),T=o(12),C=o(180),z=o(22),V=(Math.pow(10,-11),Math.pow(10,24),o(14)),H=11,D=40,U=Object(S.a)(z.default.View)(n||(n=g()(["\n\twidth: ","px;\n\theight: ","px;\n\tborder-radius: ","px;\n\tborder-width: 1px;\n\tborder-color: #ff000038;\n\tposition: absolute;\n\tflex-direction: row;\n"])),D,D,D/2),N=S.a.View(r||(r=g()(["\n\tposition: absolute;\n\ttop: ","px;\n\twidth: ","px;\n\theight: 4px;\n\tbackground-color: black;\n"])),D/2-2,D),M=Object(S.a)(z.default.View)(c||(c=g()(["\n\tposition: absolute;\n\twidth: ","px;\n\theight: ","px;\n\tborder-radius: ","px;\n\tborder-width: 1px;\n\tborder-color: black;\n\tbackground-color: white;\n"])),H,H,H/2),E=Object(S.a)(z.default.View)(i||(i=g()(["\n\tposition: absolute;\n\t//\tbackground-color: #ff000021;\n"]))),P=Object(S.a)(z.default.View)(a||(a=g()(["\n\tposition: absolute;\n\twidth: 1px;\n\tbackground-color: black;\n"]))),F=Object(S.a)(z.default.View)(l||(l=g()(["\n\tbackground-color: black;\n\topacity: 0.3;\n\tposition: absolute;\n"]))),I=function(t){var e=t.vertical,o=t.horizontal,n=t.pitch,r=t.back_thrust_components,c=t.front_thrust_components,i=Object(A.a)(),a=i.width,l=i.height,s=Object(z.useAnimatedStyle)(function(){var t=function(){return{top:l/2-D/2-e.value.distance/10*50,left:a/2-D/2+o.value.distance/10*50,transform:[{rotate:n.value.degree+"deg"}]}};return t._closure={height:l,aircraft_width:D,vertical:e,LON_DISTANCE:50,width:a,horizontal:o,LAT_DISTANCE:50,pitch:n},t.asString='function _f(){const{height,aircraft_width,vertical,LON_DISTANCE,width,horizontal,LAT_DISTANCE,pitch}=jsThis._closure;{return{top:height/2-aircraft_width/2-vertical.value.distance/10*LON_DISTANCE,left:width/2-aircraft_width/2+horizontal.value.distance/10*LAT_DISTANCE,transform:[{rotate:pitch.value.degree+"deg"}]};}}',t.__workletHash=4866866639980,t.__location="/Users/friedebold/dev/flight/src/Aircraft.tsx (41:45)",t.__optimalization=3,t}()),u=Object(z.useAnimatedStyle)(function(){var t=function(){return{transform:[{rotate:-n.value.degree+"deg"}],height:2*r.value.vertical*4,width:2*r.value.horizontal*4,left:4*-r.value.horizontal,top:D/2-4*r.value.vertical}};return t._closure={pitch:n,back_thrust_components:r,thrustScaler:4,aircraft_width:D},t.asString='function _f(){const{pitch,back_thrust_components,thrustScaler,aircraft_width}=jsThis._closure;{return{transform:[{rotate:-pitch.value.degree+"deg"}],height:back_thrust_components.value.vertical*2*thrustScaler,width:back_thrust_components.value.horizontal*2*thrustScaler,left:-back_thrust_components.value.horizontal*thrustScaler,top:aircraft_width/2-back_thrust_components.value.vertical*thrustScaler};}}',t.__workletHash=0xa072af7b65f,t.__location="/Users/friedebold/dev/flight/src/Aircraft.tsx (55:44)",t.__optimalization=3,t}()),h=Object(z.useAnimatedStyle)(function(){var t=function(){return{transform:[{rotate:-n.value.degree+"deg"}],height:2*c.value.vertical*4,width:2*c.value.horizontal*4,left:D-4*c.value.horizontal,top:D/2-4*c.value.vertical}};return t._closure={pitch:n,front_thrust_components:c,thrustScaler:4,aircraft_width:D},t.asString='function _f(){const{pitch,front_thrust_components,thrustScaler,aircraft_width}=jsThis._closure;{return{transform:[{rotate:-pitch.value.degree+"deg"}],height:front_thrust_components.value.vertical*2*thrustScaler,width:front_thrust_components.value.horizontal*2*thrustScaler,left:aircraft_width-front_thrust_components.value.horizontal*thrustScaler,top:aircraft_width/2-front_thrust_components.value.vertical*thrustScaler};}}',t.__workletHash=4909876349812,t.__location="/Users/friedebold/dev/flight/src/Aircraft.tsx (67:49)",t.__optimalization=3,t}()),_=function(){var t=function(t,e){var o="front"==t?c:r;return Object(z.useAnimatedStyle)(function(){var t=function(){return{height:"vertical"==e?4*o.value.vertical:1,width:"vertical"==e?1:4*o.value.horizontal,top:4*o.value.vertical,left:"vertical"==e?4*o.value.horizontal:0}};return t._closure={direction:e,thrust_component:o,thrustScaler:4},t.asString='function _f(){const{direction,thrust_component,thrustScaler}=jsThis._closure;{return{height:direction=="vertical"?thrust_component.value.vertical*thrustScaler:1,width:direction=="vertical"?1:thrust_component.value.horizontal*thrustScaler,top:thrust_component.value.vertical*thrustScaler,left:direction=="vertical"?thrust_component.value.horizontal*thrustScaler:0};}}',t.__workletHash=5687456663304,t.__location="/Users/friedebold/dev/flight/src/Aircraft.tsx (85:47)",t.__optimalization=3,t}())};return t._closure={front_thrust_components:c,back_thrust_components:r,useAnimatedStyle:z.useAnimatedStyle,thrustScaler:4},t.asString='function _f(side,direction){const{front_thrust_components,back_thrust_components,useAnimatedStyle,thrustScaler}=jsThis._closure;{let thrust_component=side=="front"?front_thrust_components:back_thrust_components;const animatedVectorStyle=useAnimatedStyle(function(){return{height:direction=="vertical"?thrust_component.value.vertical*thrustScaler:1,width:direction=="vertical"?1:thrust_component.value.horizontal*thrustScaler,top:thrust_component.value.vertical*thrustScaler,left:direction=="vertical"?thrust_component.value.horizontal*thrustScaler:0};});return animatedVectorStyle;}}',t.__workletHash=0xfe4009e0e21,t.__location="/Users/friedebold/dev/flight/src/Aircraft.tsx (81:33)",t}(),d=function(){var t=function(t){return Object(z.useAnimatedStyle)(function(){var e=function(){return{top:D/2-H/2,left:"back"==t?-H/2:D-H/2}};return e._closure={aircraft_width:D,stator_width:H,direction:t},e.asString='function _f(){const{aircraft_width,stator_width,direction}=jsThis._closure;{return{top:aircraft_width/2-stator_width/2,left:direction=="back"?-stator_width/2:aircraft_width-stator_width/2};}}',e.__workletHash=7222279690158,e.__location="/Users/friedebold/dev/flight/src/Aircraft.tsx (109:41)",e.__optimalization=3,e}())};return t._closure={useAnimatedStyle:z.useAnimatedStyle,aircraft_width:D,stator_width:H},t.asString='function _f(direction){const{useAnimatedStyle,aircraft_width,stator_width}=jsThis._closure;{const aircraftStyle=useAnimatedStyle(function(){return{top:aircraft_width/2-stator_width/2,left:direction=="back"?-stator_width/2:aircraft_width-stator_width/2};});return aircraftStyle;}}',t.__workletHash=0xed278cea918,t.__location="/Users/friedebold/dev/flight/src/Aircraft.tsx (107:28)",t}(),f=function(){var t=function(t){return Object(z.useAnimatedStyle)(function(){var e=function(){return{top:D/2,left:"back"==t?0:D,height:"front"==t?4*c.value.total:4*r.value.total}};return e._closure={aircraft_width:D,direction:t,front_thrust_components:c,thrustScaler:4,back_thrust_components:r},e.asString='function _f(){const{aircraft_width,direction,front_thrust_components,thrustScaler,back_thrust_components}=jsThis._closure;{return{top:aircraft_width/2,left:direction=="back"?0:aircraft_width,height:direction=="front"?front_thrust_components.value.total*thrustScaler:back_thrust_components.value.total*thrustScaler};}}',e.__workletHash=3249296563792,e.__location="/Users/friedebold/dev/flight/src/Aircraft.tsx (123:44)",e.__optimalization=3,e}())};return t._closure={useAnimatedStyle:z.useAnimatedStyle,aircraft_width:D,front_thrust_components:c,thrustScaler:4,back_thrust_components:r},t.asString='function _f(direction){const{useAnimatedStyle,aircraft_width,front_thrust_components,thrustScaler,back_thrust_components}=jsThis._closure;{const forceVectorStyle=useAnimatedStyle(function(){return{top:aircraft_width/2,left:direction=="back"?0:aircraft_width,height:direction=="front"?front_thrust_components.value.total*thrustScaler:back_thrust_components.value.total*thrustScaler};});return forceVectorStyle;}}',t.__workletHash=0xc66efb7d066,t.__location="/Users/friedebold/dev/flight/src/Aircraft.tsx (121:32)",t}();return Object(V.jsxs)(U,{style:s,children:[Object(V.jsx)(N,{}),Object(V.jsx)(M,{style:d("back")}),Object(V.jsx)(M,{style:d("front")}),Object(V.jsxs)(E,{style:u,children:[Object(V.jsx)(F,{style:_("back","vertical")}),Object(V.jsx)(F,{style:_("back","horizontal")})]}),Object(V.jsxs)(E,{style:h,children:[Object(V.jsx)(F,{style:_("front","vertical")}),Object(V.jsx)(F,{style:_("front","horizontal")})]}),Object(V.jsx)(P,{style:f("back")}),Object(V.jsx)(P,{style:f("front")})]})},R=o(25),L=o.n(R),X=function(){var t=Object(A.a)(),e=t.height,o=t.width,n=S.a.View(s||(s=g()(["\n\t\tposition: absolute;\n\t\theight: ","px;\n\t\twidth: ","px;\n\t\toverflow: hidden;\n\t"])),e,o);return Object(V.jsxs)(n,{children:[L()(Array(10).keys()).map((function(t){return Object(V.jsx)(T.a,{style:(n=t,{top:.5*e-50*n,left:o/2,height:1,width:o/2,backgroundColor:"black",opacity:.3,position:"absolute"})},t);var n})),L()(Array(10).keys()).map((function(t){return Object(V.jsx)(y.a,{style:(n=t,{top:.5*e-8-50*n,left:10,height:1,width:o/2,position:"absolute"}),children:10*t},t);var n})),L()(Array(10).keys()).map((function(t){return Object(V.jsx)(T.a,{style:(n=t,{left:.5*o+50*n,height:e/2,width:1,backgroundColor:"black",opacity:.3,position:"absolute"})},t);var n})),L()(Array(10).keys()).map((function(t){return Object(V.jsx)(y.a,{style:(n=t,{top:e/2+8,left:.5*o-8+50*n,height:e/2,position:"absolute"}),children:10*t},t);var n}))]})},q=S.a.TouchableOpacity(u||(u=g()(["\n\theight: 50px;\n\twidth: 50px;\n\ttop: ","px;\n\tleft: ","px;\n\tjustify-content: center;\n\talign-items: center;\n\tbackground-color: white;\n\tborder-width: 1px;\n\tborder-color: black;\n"])),15,15),J=S.a.View(h||(h=g()(["\n\tflex-direction: row;\n\tjustify-content: space-between;\n\tjustify-self: flex-end;\n"]))),B=Object(S.a)(z.default.View)(_||(_=g()(["\n\tborder-color: black;\n\tborder-width: 1px;\n\tpadding: ","px;\n\tflex: 1;\n"])),15),G=function(t){var e=t.setNavigation,o=t.options,n=t.data,r=Object(A.a)().width,c=Object(z.useSharedValue)(""),i=Object(z.useSharedValue)({total:0,vertical:0,horizontal:0}),a=Object(z.useSharedValue)({total:0,vertical:0,horizontal:0}),l=Object(z.useSharedValue)({acceleration:0,velocity:0,distance:0}),s=Object(z.useSharedValue)({acceleration:0,velocity:0,distance:0}),u=Object(z.useSharedValue)({acceleration:0,velocity:0,distance:0,degree:0,rad:0}),h=Object(z.useSharedValue)(!0),_=Object(z.useSharedValue)(0);!function(t,e){var o=function(){var e=function(){t.value=Object(z.withTiming)(20,{duration:2e4-t.value,easing:z.Easing.linear},function(){var e=function(e){!0===e&&(t.value=0)};return e._closure={clock:t},e.asString="function _f(finished){const{clock}=jsThis._closure;{if(finished===true){clock.value=0;}}}",e.__workletHash=0xcf106ab9657,e.__location="/Users/friedebold/dev/flight/src/hooks/useClock.ts (22:3)",e}())};return e._closure={clock:t,withTiming:z.withTiming,Easing:{linear:z.Easing.linear}},e.asString="function _f(){const{clock,withTiming,Easing}=jsThis._closure;{const NR_OF_SEC=20;clock.value=withTiming(NR_OF_SEC,{duration:NR_OF_SEC*1000-clock.value,easing:Easing.linear},function(finished){if(finished===true){clock.value=0;}});}}",e.__workletHash=0xb9a34660262,e.__location="/Users/friedebold/dev/flight/src/hooks/useClock.ts (13:18)",e}();Object(z.useAnimatedReaction)(function(){var t=function(){return e.value};return t._closure={clock_running:e},t.asString="function _f(){const{clock_running}=jsThis._closure;{return clock_running.value;}}",t.__workletHash=0xc876079f8b3,t.__location="/Users/friedebold/dev/flight/src/hooks/useClock.ts (31:2)",t}(),function(){var t=function(t){t&&o()};return t._closure={runClock:o},t.asString="function _f(clock_running){const{runClock}=jsThis._closure;{if(clock_running){runClock();}}}",t.__workletHash=3286645559445,t.__location="/Users/friedebold/dev/flight/src/hooks/useClock.ts (32:2)",t}());var n=Object(z.useDerivedValue)(function(){var e=function(){return Number((Math.round(100*t.value)/100).toFixed(2))};return e._closure={clock:t},e.asString="function _f(){const{clock}=jsThis._closure;{return Number((Math.round(clock.value*100)/100).toFixed(2));}}",e.__workletHash=0xdb2c2819a98,e.__location="/Users/friedebold/dev/flight/src/hooks/useClock.ts (39:39)",e}()),r=Object(z.useSharedValue)(0);Object(z.useAnimatedReaction)(function(){var t=function(){return n.value>r.value};return t._closure={formatedClock:n,resultClock:r},t.asString="function _f(){const{formatedClock,resultClock}=jsThis._closure;{return formatedClock.value>resultClock.value;}}",t.__workletHash=2266776964644,t.__location="/Users/friedebold/dev/flight/src/hooks/useClock.ts (45:2)",t}(),function(){var t=function(t){t&&(r.value=n.value)};return t._closure={resultClock:r,formatedClock:n},t.asString="function _f(isNew){const{resultClock,formatedClock}=jsThis._closure;{if(isNew)resultClock.value=formatedClock.value;}}",t.__workletHash=0xce9cb2181c3,t.__location="/Users/friedebold/dev/flight/src/hooks/useClock.ts (46:2)",t}())}(_,h);Object(z.useAnimatedReaction)(function(){var t=function(){return _.value};return t._closure={clock:_},t.asString="function _f(){const{clock}=jsThis._closure;{return clock.value;}}",t.__workletHash=4089641237555,t.__location="/Users/friedebold/dev/flight/src/Flight.tsx (60:2)",t}(),function(){var t=function(t){if(t<20){var e=Math.round(100*t);c.value=n[e].mode,i.value=n[e].frontThrustComponents,a.value=n[e].backThrustComponents,l.value=n[e].vertical,s.value=n[e].horizontal,u.value=n[e].pitch}};return t._closure={mode:c,data:n,front_thrust_components:i,back_thrust_components:a,vertical:l,horizontal:s,pitch:u},t.asString="function _f(clock){const{mode,data,front_thrust_components,back_thrust_components,vertical,horizontal,pitch}=jsThis._closure;{if(clock<20){const rounded_clock=Math.round(clock*100);mode.value=data[rounded_clock].mode;front_thrust_components.value=data[rounded_clock].frontThrustComponents;back_thrust_components.value=data[rounded_clock].backThrustComponents;vertical.value=data[rounded_clock].vertical;horizontal.value=data[rounded_clock].horizontal;pitch.value=data[rounded_clock].pitch;}}}",t.__workletHash=6032275734075,t.__location="/Users/friedebold/dev/flight/src/Flight.tsx (61:2)",t}());var d=function(t){return Object(z.useAnimatedStyle)(function(){var e=function(){return{backgroundColor:c.value==t?"white":"transparent",opacity:c.value==t?1:.2}};return e._closure={mode:c,mode_val:t},e.asString='function _f(){const{mode,mode_val}=jsThis._closure;{return{backgroundColor:mode.value==mode_val?"white":"transparent",opacity:mode.value==mode_val?1:0.2};}}',e.__workletHash=0x9ac7c7989a2,e.__location="/Users/friedebold/dev/flight/src/Flight.tsx (96:40)",e.__optimalization=3,e}())},f=Object(z.useAnimatedStyle)(function(){var t=function(){return{width:10*_.value+"%"}};return t._closure={clock:_},t.asString='function _f(){const{clock}=jsThis._closure;{return{width:clock.value*10+"%"};}}',t.__workletHash=0xf336052870c,t.__location="/Users/friedebold/dev/flight/src/Flight.tsx (106:40)",t.__optimalization=3,t}()),v=Object(z.useSharedValue)(0),b=Object(z.useSharedValue)(!1),g=C.a.Pan().onBegin(function(){var t=function(t){console.log("click..."),v.value=_.value,h.value&&(console.log("stop clock!!"),h.value=!1,Object(z.cancelAnimation)(_))};return t._closure={start_clock:v,clock:_,clock_running:h,cancelAnimation:z.cancelAnimation},t.asString='function _f(e){const{start_clock,clock,clock_running,cancelAnimation}=jsThis._closure;{console.log("click...");start_clock.value=clock.value;if(clock_running.value){console.log("stop clock!!");clock_running.value=false;cancelAnimation(clock);}}}',t.__workletHash=0xf4285bd5309,t.__location="/Users/friedebold/dev/flight/src/Flight.tsx (115:11)",t}()).onTouchesDown(function(){var t=function(t){console.log("down")};return t._closure={},t.asString='function _f(e){console.log("down");}',t.__workletHash=0xe28b472cbcb,t.__location="/Users/friedebold/dev/flight/src/Flight.tsx (124:17)",t}()).onTouchesUp(function(){var t=function(t){console.log("up")};return t._closure={},t.asString='function _f(e){console.log("up");}',t.__workletHash=0xcfae7def07c,t.__location="/Users/friedebold/dev/flight/src/Flight.tsx (127:15)",t}()).onChange(function(){var t=function(t){b.value=!0;var e=v.value+t.translationX*(20/r),o=Math.max(0,Math.min(e,2e3));_.value=o};return t._closure={active:b,start_clock:v,width:r,clock:_},t.asString="function _f(e){const{active,start_clock,width,clock}=jsThis._closure;{active.value=true;let drag_clock=start_clock.value+e.translationX*(20/width);let clamped_drag_clock=Math.max(0,Math.min(drag_clock,2000));clock.value=clamped_drag_clock;}}",t.__workletHash=7436894056388,t.__location="/Users/friedebold/dev/flight/src/Flight.tsx (130:12)",t}()).onFinalize(function(){var t=function(){console.log("final"),b.value||(h.value?(console.log("stop clock!!"),h.value=!1,Object(z.cancelAnimation)(_)):(console.log("start clock!!"),h.value=!0)),b.value=!1};return t._closure={active:b,clock_running:h,cancelAnimation:z.cancelAnimation,clock:_},t.asString='function _f(){const{active,clock_running,cancelAnimation,clock}=jsThis._closure;{console.log("final");if(!active.value){if(clock_running.value){console.log("stop clock!!");clock_running.value=false;cancelAnimation(clock);}else{console.log("start clock!!");clock_running.value=true;}}active.value=false;}}',t.__workletHash=0xacd753ae123,t.__location="/Users/friedebold/dev/flight/src/Flight.tsx (136:14)",t}()).onEnd(function(){var t=function(t){console.log("end"),_.value=Object(z.withDecay)({velocity:t.velocityX/80,clamp:[0,20]})};return t._closure={clock:_,withDecay:z.withDecay},t.asString='function _f(e){const{clock,withDecay}=jsThis._closure;{console.log("end");clock.value=withDecay({velocity:e.velocityX/80,clamp:[0,20]});}}',t.__workletHash=0xc8b4ea08b71,t.__location="/Users/friedebold/dev/flight/src/Flight.tsx (150:9)",t}()),j=Object(z.useAnimatedStyle)(function(){var t=function(){return{backgroundColor:h.value?"white":"#e2e2e5"}};return t._closure={clock_running:h},t.asString='function _f(){const{clock_running}=jsThis._closure;{return{backgroundColor:clock_running.value?"white":"#e2e2e5"};}}',t.__workletHash=7442063572813,t.__location="/Users/friedebold/dev/flight/src/Flight.tsx (158:50)",t.__optimalization=3,t}());!function(){var t=function(){console.log("stop clock!!"),h.value=!1,Object(z.cancelAnimation)(_)};t._closure={clock_running:h,cancelAnimation:z.cancelAnimation,clock:_},t.asString='function _f(){const{clock_running,cancelAnimation,clock}=jsThis._closure;{console.log("stop clock!!");clock_running.value=false;cancelAnimation(clock);}}',t.__workletHash=5861697204020,t.__location="/Users/friedebold/dev/flight/src/Flight.tsx (164:21)"}();return Object(V.jsx)(C.b,{gesture:g,children:Object(V.jsxs)(z.default.View,{style:[j,{justifyContent:"space-between",flex:1}],children:[Object(V.jsx)(X,{}),Object(V.jsx)(I,{vertical:l,horizontal:s,pitch:u,back_thrust_components:a,front_thrust_components:i}),Object(V.jsx)(q,{onPress:function(){return e("input")},children:Object(V.jsx)(y.a,{children:"x"})}),Object(V.jsxs)(T.a,{children:[Object(V.jsx)(y.a,{children:"Target Altitude (m):"}),Object(V.jsx)(y.a,{children:o.targetAltitude}),Object(V.jsx)(z.default.View,{style:[f,{height:2,backgroundColor:"black"}]}),Object(V.jsxs)(J,{children:[Object(V.jsx)(B,{style:d("takeoff"),children:Object(V.jsx)(y.a,{children:"Takeoff"})}),Object(V.jsx)(B,{style:d("tilt_to_cruise"),children:Object(V.jsx)(y.a,{children:"Tilt to Cruise"})}),Object(V.jsx)(B,{style:d("cruise"),children:Object(V.jsx)(y.a,{children:"Cruise"})}),Object(V.jsx)(B,{style:d("tilt_to_land"),children:Object(V.jsx)(y.a,{children:"Tilt to Land"})}),Object(V.jsx)(B,{style:d("landing"),children:Object(V.jsx)(y.a,{children:"Landing"})})]})]})]})})},Q=function(t){return Math.round(1e4*t)/1e4},K=function(){var t=function(t,e,o,n,r,c,i,a,l){if(t)for(var s=n,u=r,h=0;h<=2e3;h++)if((u+=(s+=-.0981)/100)>=e.targetAltitude){t=!1;break}if(r>=.5*e.targetAltitude&&0==n&&0==o&&(l="tilt_to_cruise"),n<0&&0==o){var _=Q(-n/2*100+4.905);i=_,c=_,console.log("speed correct",_)}else r>=.5*e.targetAltitude&&n<=0?(i=4.905,c=4.905):t?(i=10,c=10):(i=0,c=0);return{engines_running:t,front_thrust:i,back_thrust:c,logger:a,mode:l,vAcceleration:o,vVelocity:n,vDistance:r}};return t._closure={round:Q,MAX_THRUST_PER_SIDE:10},t.asString='function _f(engines_running,options,vAcceleration,vVelocity,vDistance,back_thrust,front_thrust,logger,mode){const{round,MAX_THRUST_PER_SIDE}=jsThis._closure;{if(engines_running){const potAcceleration=-9.81;let potVelocity=vVelocity;let potAltitude=vDistance;for(let j=0;j<=2000;j++){potVelocity=potVelocity+potAcceleration/100;potAltitude=potAltitude+potVelocity/100;if(potAltitude>=options.targetAltitude){engines_running=false;break;}}}if(vDistance>=options.targetAltitude*0.5&&vVelocity==0&&vAcceleration==0){mode="tilt_to_cruise";}if(vVelocity<0&&vAcceleration==0){const correction_thrust=round(-vVelocity/2*100+9.81/2);front_thrust=correction_thrust;back_thrust=correction_thrust;console.log("speed correct",correction_thrust);}else if(vDistance>=options.targetAltitude*0.5&&vVelocity<=0){front_thrust=9.81/2;back_thrust=9.81/2;}else if(!engines_running){front_thrust=0;back_thrust=0;}else{front_thrust=MAX_THRUST_PER_SIDE;back_thrust=MAX_THRUST_PER_SIDE;}return{engines_running:engines_running,front_thrust:front_thrust,back_thrust:back_thrust,logger:logger,mode:mode,vAcceleration:vAcceleration,vVelocity:vVelocity,vDistance:vDistance};}}',t.__workletHash=6520258986290,t.__location="/Users/friedebold/dev/flight/src/calculations/takeoff.ts (5:26)",t}(),W=function(t,e){return t/Math.cos(e*Math.PI/180)},Y=function(t,e,o,n,r,c,i,a,l){return l=o.toString(),e&&o>=t.maxPitch/2&&(e=!1),o>.5*t.maxPitch&&n<=0?t.disableHorizontal?(i=4.905,a=4.905):(i=W(4.905,o),a=W(4.905,o)):e?t.disableHorizontal?(i=4.905-4,a=4.905+4):(i=W(4.905-4,o),a=W(4.905+4,o)):t.disableHorizontal?(i=4.905+4,a=4.905-4):(i=W(4.905+4,o),a=W(4.905-4,o)),{logger:l,tilting:e,mode:c,back_thrust:a,front_thrust:i}},Z=o(144),$=o(104),tt=o(90),et=Object(S.a)($.a)(d||(d=g()(["\n\tborder-color: black;\n\tborder-width: 1px;\n\tpadding: ","px;\n"])),15),ot=S.a.View(f||(f=g()(["\n\tpadding: ","px;\n\tborder-width: 1px;\n\tborder-color: black;\n"])),15),nt=function(t){var e=t.setOptions,o=Object(w.useState)(40),n=k()(o,2),r=n[0],c=n[1],i=Object(w.useState)(40),a=k()(i,2),l=a[0],s=a[1],u=Object(w.useState)(45),h=k()(u,2),_=h[0],d=h[1],f=Object(w.useState)("quad"),v=k()(f,2),b=v[0],g=v[1],j=Object(w.useState)(!1),p=k()(j,2),m=p[0],x=p[1];return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(T.a,{style:{height:15}}),Object(V.jsx)(y.a,{children:"Altitude (m):"}),Object(V.jsx)(et,{value:r.toString(),onChangeText:function(t){var e=Number(t);isNaN(e)||c(e)}}),Object(V.jsx)(T.a,{style:{height:15}}),Object(V.jsx)(y.a,{children:"Distance (m):"}),Object(V.jsx)(et,{value:l.toString(),onChangeText:function(t){var e=Number(t);isNaN(e)||s(e)}}),Object(V.jsx)(T.a,{style:{height:15}}),Object(V.jsx)(y.a,{children:"Tilt Angle:"}),Object(V.jsx)(et,{value:_.toString(),onChangeText:function(t){var e=Number(t);isNaN(e)||d(e)}}),Object(V.jsx)(T.a,{style:{height:15}}),Object(V.jsxs)(T.a,{style:{flexDirection:"row"},children:[Object(V.jsx)(tt.a,{onPress:function(){return g("quad")},children:Object(V.jsx)(ot,{style:{backgroundColor:"quad"==b?"white":"lightgrey"},children:Object(V.jsx)(y.a,{children:"Quad"})})}),Object(V.jsx)(tt.a,{onPress:function(){return g("tail_sitter")},children:Object(V.jsx)(ot,{style:{backgroundColor:"tail_sitter"==b?"white":"lightgrey"},children:Object(V.jsx)(y.a,{children:"Tail Sitter"})})})]}),Object(V.jsx)(T.a,{style:{height:15}}),Object(V.jsxs)(T.a,{style:{flexDirection:"row"},children:[Object(V.jsx)(tt.a,{onPress:function(){x((function(t){return!t}))},children:Object(V.jsx)(ot,{style:{backgroundColor:m?"white":"lightgrey"},children:Object(V.jsx)(y.a,{children:"Disable Horizontal Modement"})})}),Object(V.jsx)(T.a,{style:{height:15}})]}),Object(V.jsx)(T.a,{style:{height:15}}),Object(V.jsx)(Z.a,{title:"Go",onPress:function(){e({targetAltitude:r,targetDistance:l,aircraftType:b,disableHorizontal:m,maxPitch:_})}})]})},rt=function(t){var e=t.options,o=t.setOptions,n=t.setData,r=t.setNavigation,c=t.navigation;return Object(w.useEffect)((function(){"input"==c&&""!==e.aircraftType&&o({aircraftType:"",targetAltitude:0,targetDistance:0,disableHorizontal:!0,maxPitch:0})}),[e,c]),Object(w.useEffect)((function(){if(""!==e.aircraftType){var t=function(t){for(var e=[],o=!0,n=!0,r="takeoff",c=0,i=0,a=0,l=0,s=0,u=0,h=0,_=0,d=0,f=0,v=0,b=0,g="",j=0;j<=2e3;j++){if("takeoff"==r){var k=K(o,t,c,i,a,_,h,g,r);o=k.engines_running,c=k.vAcceleration,i=k.vVelocity,a=k.vDistance,_=k.back_thrust,h=k.front_thrust,g=k.logger,r=k.mode}if("tilt_to_cruise"==r){var p=Y(t,n,b,f,0,r,h,_,g);g=p.logger,n=p.tilting,r=p.mode,_=p.back_thrust,h=p.front_thrust}"cruise"==r&&u>=20&&(r="tilt_to_land",n=!0),d=Q(_-h),f=Q(f+Q(d/100)),v=Q(v+Q(f/100)),b=Q(180*v/Math.PI);var m=Q(Math.cos(b*Math.PI/180)*h),x=Q(Math.sin(b*Math.PI/180)*h),w=Q(Math.cos(b*Math.PI/180)*_),O=Q(Math.sin(b*Math.PI/180)*_);c=t.disableHorizontal?Q(h+_-9.81):Q(m+w-9.81),i=Q(i+Q(c/100)),a=Q(a+Q(i/100)),t.disableHorizontal||(l=Q(x+O),console.log(l),s=Q(s+Q(l/100)),u=Q(u+Q(s/100)));var S={mode:r,frontThrustComponents:{total:h,vertical:m,horizontal:x},backThrustComponents:{total:_,vertical:w,horizontal:O},vertical:{acceleration:c,velocity:i,distance:a},horizontal:{acceleration:l,velocity:s,distance:u},pitch:{acceleration:d,velocity:f,distance:v,degree:b,rad:Q(b*Math.PI/180)},logger:g};e.push(S)}return e}(e);n(t),r("flight")}}),[e]),Object(V.jsxs)(T.a,{style:{margin:30},children:[Object(V.jsx)(y.a,{children:"Flight Planner"}),Object(V.jsx)(nt,{setOptions:o})]})};e.a=function(t){m()(t);var e=Object(w.useState)([]),o=k()(e,2),n=o[0],r=o[1],c=Object(w.useState)({targetAltitude:0,targetDistance:0,aircraftType:"",disableHorizontal:!1,maxPitch:0}),i=k()(c,2),a=i[0],l=i[1],s=Object(w.useState)("input"),u=k()(s,2),h=u[0],_=u[1],d=S.a.View(v||(v=g()(["\n\t\tflex: 1;\n\t\tbackground-color: #e2e2e5;\n\t"])));return Object(V.jsx)(O.a,{style:{flex:1},children:Object(V.jsxs)(d,{children:[Object(V.jsx)(x.a,{style:"dark"}),"input"==h||"planner"==h?Object(V.jsx)(rt,{options:a,setOptions:l,setData:r,navigation:h,setNavigation:_}):Object(V.jsx)(G,{setNavigation:_,options:a,data:n})]})})}},234:function(t,e,o){t.exports=o(337)}},[[234,1,2]]]);
//# sourceMappingURL=app.421ff89f.chunk.js.map