{"version":3,"sources":["src/Aircraft.tsx","src/constants.ts","src/calculations/common.ts","src/DataPanel.tsx","src/Grid.tsx","src/Flight.tsx","src/hooks/useClock.ts","src/calculations/landing.ts","src/calculations/takeoff.ts","src/calculations/tilt_to_cruise.ts","src/calculations/tilt_to_land_1.ts","src/calculations/tilt_to_land_2.ts","src/FlightOptionInputs.tsx","src/Planner.tsx","src/calculations/main.ts","App.tsx"],"names":["stator_width","aircraft_width","Background","styled","Animated","View","Fulselage","AircraftComp","ForceBox","ForceVector","DirectionVector","Aircraft","grid_move","vertical","horizontal","pitch","back_thrust_components","front_thrust_components","useWindowDimensions","width","height","animatedBackground","useAnimatedStyle","top","value","distance","left","transform","rotate","degree","animatedVectorBox","Math","abs","animatedFrontVectorBox","getVectorComponentStyle","side","direction","thrust_component","get_aircraft_style","get_force_vector_style","total","style","round","num","digits","adjust_for_horizontal","thrust_total","pitch_angle","cos","PI","Row","FlightMode","margin","ClockBox","Clock","AnimatedText","DimensionData","Header","Text","TitlesCol","DataCol","DataPanel","clock","mode","tClock","useDerivedValue","toString","verticalThrust","horizontalThrust","fThrust","bThrust","totalThrust","vAccel","acceleration","vVelo","velocity","vDist","vMaxDist","potMaxDistance","hAccel","hVelo","hDist","pAccel","pVelo","pDeg","getBoxStyle","mode_val","backgroundColor","opacity","text","fontSize","Grid","getLatitudeStyle","e","getLatitudeTextStyle","position","animatedLatitudeStyle","animatedLongitudeStyle","animatedLongitudeTextStyle","AbsoluteBackground","Longitudes","Latitudes","Array","keys","map","index","BackButton","TouchableOpacity","Flight","setNavigation","data","options","useSharedValue","rad","clock_running","runClock","withTiming","duration","NR_OF_SEC","easing","Easing","linear","finished","useAnimatedReaction","formatedClock","Number","toFixed","resultClock","isNew","useClock","rounded_clock","frontThrustComponents","backThrustComponents","console","log","logger","clockBarStyle","start_clock","active","panGesture","Gesture","Pan","onBegin","cancelAnimation","onChange","drag_clock","translationX","clamped_drag_clock","max","min","onFinalize","onEnd","withDecay","velocityX","clamp","animatedBackgroundStyle","toggle_clock_running","gesture","TouchableWithoutFeedback","onPress","runOnJS","justifyContent","flex","runLanding","engines_running","vAcceleration","vVelocity","vDistance","front_thrust","back_thrust","potVelocity","potAltitude","j","MAX_THRUST","correction_thrust","runTakeoff","vMaxDistance","max_altitude","i","potAcceleration","targetAltitude","runTiltToCruise","tilting","pitchAcceleration","pitchVelocity","pitchDistance","potPitchAcceleration","potPitchVelocity","potPitchDistance","maxPitch","disableHorizontal","hover_thrust","runTiltToLand_1","runTiltToLand_2","hVelocity","Input","TextInput","Toggle","FlightOptionInputs","setOptions","useState","setTargetAltitude","targetDistance","setTargetDistance","setMaxPitch","aircraftType","setAircraftType","setDisableHorizontal","onChangeText","number","isNaN","flexDirection","curr","alignItems","color","Planner","setData","navigation","useEffect","flightData","hAcceleration","hDistance","results","front_vertical","front_horizontal","sin","back_vertical","back_horizontal","flightMoment","push","calculateFlight","App","SafeAreaView","StatusBar"],"mappings":"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","file":"static/js/app.5873e5b6.chunk.js","sourcesContent":["import React from \"react\";\nimport { useWindowDimensions } from \"react-native\";\nimport Animated, { useAnimatedStyle } from \"react-native-reanimated\";\nimport styled from \"styled-components/native\";\nimport { ThrustComponents } from \"../App\";\nimport { LAT_DISTANCE, LON_DISTANCE } from \"./constants\";\n\ninterface Props {\n\t// flight_data: Animated.SharedValue<FlightData>;\n\tgrid_move: boolean;\n\tvertical: Animated.SharedValue<{\n\t\tacceleration: number;\n\t\tvelocity: number;\n\t\tdistance: number;\n\t}>;\n\thorizontal: Animated.SharedValue<{\n\t\tacceleration: number;\n\t\tvelocity: number;\n\t\tdistance: number;\n\t}>;\n\tpitch: Animated.SharedValue<{\n\t\tacceleration: number;\n\t\tvelocity: number;\n\t\tdistance: number;\n\t\tdegree: number;\n\t\trad: number;\n\t}>;\n\tback_thrust_components: Animated.SharedValue<ThrustComponents>;\n\tfront_thrust_components: Animated.SharedValue<ThrustComponents>;\n}\n\nconst Aircraft: React.FC<Props> = ({\n\tgrid_move,\n\tvertical,\n\thorizontal,\n\tpitch,\n\tback_thrust_components,\n\tfront_thrust_components,\n}) => {\n\tconst { width, height } = useWindowDimensions();\n\tconst thrustScaler = 4;\n\n\tconst animatedBackground = useAnimatedStyle(() => {\n\t\treturn {\n\t\t\ttop: grid_move\n\t\t\t\t? height / 2 - aircraft_width / 2\n\t\t\t\t: height / 2 -\n\t\t\t\t  aircraft_width / 2 -\n\t\t\t\t  (vertical.value.distance / 10) * LON_DISTANCE,\n\t\t\tleft: grid_move\n\t\t\t\t? width / 2 - aircraft_width / 2\n\t\t\t\t: width / 2 -\n\t\t\t\t  aircraft_width / 2 +\n\t\t\t\t  (horizontal.value.distance / 10) * LAT_DISTANCE,\n\t\t\ttransform: [{ rotate: pitch.value.degree + \"deg\" }],\n\t\t};\n\t});\n\n\tconst animatedVectorBox = useAnimatedStyle(() => {\n\t\treturn {\n\t\t\ttransform: [{ rotate: -pitch.value.degree + \"deg\" }],\n\t\t\theight: Math.abs(\n\t\t\t\tback_thrust_components.value.vertical * 2 * thrustScaler\n\t\t\t),\n\t\t\twidth: Math.abs(\n\t\t\t\tback_thrust_components.value.horizontal * 2 * thrustScaler\n\t\t\t),\n\t\t\tleft: -Math.abs(\n\t\t\t\tback_thrust_components.value.horizontal * thrustScaler\n\t\t\t), //-back_thrust.value * thrustScaler,\n\t\t\ttop:\n\t\t\t\taircraft_width / 2 -\n\t\t\t\tback_thrust_components.value.vertical * thrustScaler, //aircraft_width / 2 - back_thrust.value * thrustScaler,\n\t\t};\n\t});\n\n\tconst animatedFrontVectorBox = useAnimatedStyle(() => {\n\t\treturn {\n\t\t\ttransform: [{ rotate: -pitch.value.degree + \"deg\" }],\n\t\t\theight: Math.abs(\n\t\t\t\tfront_thrust_components.value.vertical * 2 * thrustScaler\n\t\t\t),\n\t\t\twidth: Math.abs(\n\t\t\t\tfront_thrust_components.value.horizontal * 2 * thrustScaler\n\t\t\t),\n\t\t\tleft:\n\t\t\t\taircraft_width -\n\t\t\t\tMath.abs(\n\t\t\t\t\tfront_thrust_components.value.horizontal * thrustScaler\n\t\t\t\t),\n\t\t\ttop:\n\t\t\t\taircraft_width / 2 -\n\t\t\t\tfront_thrust_components.value.vertical * thrustScaler,\n\t\t};\n\t});\n\n\tconst getVectorComponentStyle = (side: string, direction: string) => {\n\t\t\"worklet\";\n\t\tlet thrust_component =\n\t\t\tside == \"front\" ? front_thrust_components : back_thrust_components;\n\t\tconst animatedVectorStyle = useAnimatedStyle(() => {\n\t\t\t/* const vertical_thrust =\n\t\t\t\tMath.cos((pitch_angle.value * Math.PI) / 180) * back_thrust.value; */\n\t\t\treturn {\n\t\t\t\theight:\n\t\t\t\t\tdirection == \"vertical\"\n\t\t\t\t\t\t? Math.abs(\n\t\t\t\t\t\t\t\tthrust_component.value.vertical * thrustScaler\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: 1,\n\t\t\t\twidth:\n\t\t\t\t\tdirection == \"vertical\"\n\t\t\t\t\t\t? 1\n\t\t\t\t\t\t: Math.abs(\n\t\t\t\t\t\t\t\tthrust_component.value.horizontal * thrustScaler\n\t\t\t\t\t\t  ),\n\t\t\t\ttop: Math.abs(thrust_component.value.vertical * thrustScaler),\n\t\t\t\tleft:\n\t\t\t\t\tdirection == \"vertical\"\n\t\t\t\t\t\t? Math.abs(\n\t\t\t\t\t\t\t\tthrust_component.value.horizontal * thrustScaler\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: thrust_component.value.horizontal < 0\n\t\t\t\t\t\t? Math.abs(\n\t\t\t\t\t\t\t\tthrust_component.value.horizontal * thrustScaler\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: 0,\n\t\t\t};\n\t\t});\n\t\treturn animatedVectorStyle;\n\t};\n\n\tconst get_aircraft_style = (direction: string) => {\n\t\t\"worklet\";\n\t\tconst aircraftStyle = useAnimatedStyle(() => {\n\t\t\treturn {\n\t\t\t\ttop: aircraft_width / 2 - stator_width / 2,\n\t\t\t\tleft:\n\t\t\t\t\tdirection == \"back\"\n\t\t\t\t\t\t? -stator_width / 2\n\t\t\t\t\t\t: aircraft_width - stator_width / 2,\n\t\t\t};\n\t\t});\n\t\treturn aircraftStyle;\n\t};\n\n\tconst get_force_vector_style = (direction: string) => {\n\t\t\"worklet\";\n\t\tconst forceVectorStyle = useAnimatedStyle(() => {\n\t\t\treturn {\n\t\t\t\ttop: aircraft_width / 2,\n\t\t\t\tleft: direction == \"back\" ? 0 : aircraft_width,\n\t\t\t\theight:\n\t\t\t\t\tdirection == \"front\"\n\t\t\t\t\t\t? front_thrust_components.value.total * thrustScaler\n\t\t\t\t\t\t: back_thrust_components.value.total * thrustScaler,\n\t\t\t};\n\t\t});\n\t\treturn forceVectorStyle;\n\t};\n\n\treturn (\n\t\t<Background style={animatedBackground}>\n\t\t\t<Fulselage />\n\t\t\t<AircraftComp style={get_aircraft_style(\"back\")} />\n\t\t\t<AircraftComp style={get_aircraft_style(\"front\")} />\n\t\t\t<ForceBox style={animatedVectorBox}>\n\t\t\t\t<DirectionVector\n\t\t\t\t\tstyle={getVectorComponentStyle(\"back\", \"vertical\")}\n\t\t\t\t/>\n\t\t\t\t<DirectionVector\n\t\t\t\t\tstyle={getVectorComponentStyle(\"back\", \"horizontal\")}\n\t\t\t\t/>\n\t\t\t</ForceBox>\n\t\t\t<ForceBox style={animatedFrontVectorBox}>\n\t\t\t\t<DirectionVector\n\t\t\t\t\tstyle={getVectorComponentStyle(\"front\", \"vertical\")}\n\t\t\t\t/>\n\t\t\t\t<DirectionVector\n\t\t\t\t\tstyle={getVectorComponentStyle(\"front\", \"horizontal\")}\n\t\t\t\t/>\n\t\t\t</ForceBox>\n\t\t\t<ForceVector style={get_force_vector_style(\"back\")} />\n\t\t\t<ForceVector style={get_force_vector_style(\"front\")} />\n\t\t</Background>\n\t);\n};\n\nconst stator_width = 11;\nconst aircraft_width = 40;\n\nconst Background = styled(Animated.View)`\n\twidth: ${aircraft_width}px;\n\theight: ${aircraft_width}px;\n\tborder-radius: ${aircraft_width / 2}px;\n\tposition: absolute;\n\tflex-direction: row;\n`;\n\nconst Fulselage = styled.View`\n\tposition: absolute;\n\ttop: ${aircraft_width / 2 - 2}px;\n\twidth: ${aircraft_width}px;\n\theight: 4px;\n\tbackground-color: black;\n`;\n\nconst AircraftComp = styled(Animated.View)`\n\tposition: absolute;\n\twidth: ${stator_width}px;\n\theight: ${stator_width}px;\n\tborder-radius: ${stator_width / 2}px;\n\tborder-width: 1px;\n\tborder-color: black;\n\tbackground-color: white;\n`;\n\nconst ForceBox = styled(Animated.View)`\n\tposition: absolute;\n\t/* background-color: #ff000021; */\n`;\n\nconst ForceVector = styled(Animated.View)`\n\tposition: absolute;\n\twidth: 1px;\n\tbackground-color: black;\n`;\n\nconst DirectionVector = styled(Animated.View)`\n\tbackground-color: black;\n\topacity: 0.3;\n\tposition: absolute;\n`;\n\nexport default Aircraft;\n","/* export const colors = {\n\tgrey: \"#D9D9D9\",\n};\n\n// export const maxForce = 20; // kg m+2 s-2\n\nexport const gravitational_constant = 6.6743 * Math.pow(10, -11); // m3 kg-1 s-2\nexport const earth_mass = 5.972 * Math.pow(10, 24); // kg\nexport const earth_radius = 6371000; // m\nexport const aircraft_mass = 1; // kg */\n\nexport const LAT_DISTANCE = 50;\nexport const LON_DISTANCE = 50;\n\nexport const MAX_THRUST = 20;\nexport const MAX_THRUST_PER_SIDE = MAX_THRUST / 2;\n\nexport const margin = 30;\n\nexport const hover_thrust = 9.81 / 2;\nexport const thrust_differential = hover_thrust; // Math.min(MAX_THRUST_PER_SIDE, 9.81 / 2);\n\n/* \ndef calculate_gravity(mass, altitude):\n    gravitational_constant = -astro.G\n    earth_mass = astro.M_earth.value * astro.M_earth.unit\n    earth_radius = u.earthRad.to(u.m) * u.m\n\n    gravity = ((gravitational_constant * earth_mass * mass) /\n               (earth_radius + altitude)**2)\n\n    return gravity\n*/\n","export const round = (num: number, digits: number = 4) => {\n\t\"worklet\";\n\tif (digits == 4) {\n\t\treturn Math.round(num * 10000) / 10000;\n\t} else return Math.round(num * 100) / 100;\n};\n\nexport const adjust_for_horizontal = (\n\tthrust_total: number,\n\tpitch_angle: number\n) => {\n\t\"worklet\";\n\treturn round(thrust_total / Math.cos((pitch_angle * Math.PI) / 180));\n};\n","import React from \"react\";\nimport { Text, View } from \"react-native\";\nimport Animated, {\n\tuseAnimatedStyle,\n\tuseDerivedValue\n} from \"react-native-reanimated\";\nimport { AnimatedText } from \"react-native-wagmi-charts\";\nimport styled from \"styled-components/native\";\nimport { round } from \"./calculations/common\";\nimport { margin } from \"./constants\";\n\ninterface Props {\n\tclock: Animated.SharedValue<number>;\n\tvertical: Animated.SharedValue<{\n\t\tacceleration: number;\n\t\tvelocity: number;\n\t\tdistance: number;\n\t\tpotMaxDistance: number;\n\t}>;\n\thorizontal: Animated.SharedValue<{\n\t\tacceleration: number;\n\t\tvelocity: number;\n\t\tdistance: number;\n\t}>;\n\tpitch: Animated.SharedValue<{\n\t\tacceleration: number;\n\t\tvelocity: number;\n\t\tdistance: number;\n\t\tdegree: number;\n\t\trad: number;\n\t}>;\n\tback_thrust_components: Animated.SharedValue<{\n\t\ttotal: number;\n\t\tvertical: number;\n\t\thorizontal: number;\n\t}>;\n\tfront_thrust_components: Animated.SharedValue<{\n\t\ttotal: number;\n\t\tvertical: number;\n\t\thorizontal: number;\n\t}>;\n\n\tmode: Animated.SharedValue<string>;\n}\n\nconst DataPanel: React.FC<Props> = ({\n\tclock,\n\tvertical,\n\thorizontal,\n\tpitch,\n\tmode,\n\tback_thrust_components,\n\tfront_thrust_components,\n}) => {\n\tconst tClock = useDerivedValue(() => round(clock.value, 2).toString());\n\n\tconst verticalThrust = useDerivedValue(() =>\n\t\t(\n\t\t\tfront_thrust_components.value.vertical +\n\t\t\tback_thrust_components.value.vertical\n\t\t).toString()\n\t);\n\tconst horizontalThrust = useDerivedValue(() =>\n\t\t(\n\t\t\tfront_thrust_components.value.horizontal +\n\t\t\tback_thrust_components.value.horizontal\n\t\t).toString()\n\t);\n\n\tconst fThrust = useDerivedValue(() =>\n\t\tfront_thrust_components.value.total.toString()\n\t);\n\tconst bThrust = useDerivedValue(() =>\n\t\tback_thrust_components.value.total.toString()\n\t);\n\tconst totalThrust = useDerivedValue(() =>\n\t\t(\n\t\t\tback_thrust_components.value.total +\n\t\t\tfront_thrust_components.value.total\n\t\t).toString()\n\t);\n\n\tconst vAccel = useDerivedValue(() =>\n\t\tvertical.value.acceleration.toString()\n\t);\n\tconst vVelo = useDerivedValue(() => vertical.value.velocity.toString());\n\tconst vDist = useDerivedValue(() => vertical.value.distance.toString());\n\tconst vMaxDist = useDerivedValue(() =>\n\t\tvertical.value.potMaxDistance.toString()\n\t);\n\n\tconst hAccel = useDerivedValue(() =>\n\t\thorizontal.value.acceleration.toString()\n\t);\n\tconst hVelo = useDerivedValue(() => horizontal.value.velocity.toString());\n\tconst hDist = useDerivedValue(() => horizontal.value.distance.toString());\n\n\tconst pAccel = useDerivedValue(() => pitch.value.acceleration.toString());\n\tconst pVelo = useDerivedValue(() => pitch.value.velocity.toString());\n\tconst pDeg = useDerivedValue(() => pitch.value.degree.toString());\n\n\tconst getBoxStyle = (mode_val: string) => {\n\t\tconst landingStyle = useAnimatedStyle(() => {\n\t\t\treturn {\n\t\t\t\tbackgroundColor:\n\t\t\t\t\tmode.value == mode_val ? \"white\" : \"transparent\",\n\t\t\t\topacity: mode.value == mode_val ? 1 : 0.2,\n\t\t\t};\n\t\t});\n\t\treturn landingStyle;\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<Row>\n\t\t\t\t<ClockBox>\n\t\t\t\t\t<Clock text={tClock} />\n\t\t\t\t\t<Text style={{ fontSize: 24 }}>s</Text>\n\t\t\t\t</ClockBox>\n\t\t\t\t<DimensionData>\n\t\t\t\t\t<TitlesCol>\n\t\t\t\t\t\t<Header>{\"Total\"}</Header>\n\t\t\t\t\t\t<Text>{\"Vertical\"}</Text>\n\t\t\t\t\t\t<Text>{\"Horizontal\"}</Text>\n\t\t\t\t\t\t<Text>{\"Total\"}</Text>\n\t\t\t\t\t</TitlesCol>\n\t\t\t\t\t<View style={{ width: margin / 2 }} />\n\t\t\t\t\t<DataCol>\n\t\t\t\t\t\t<Header>{\"-\"}</Header>\n\t\t\t\t\t\t<AnimatedText text={verticalThrust} />\n\t\t\t\t\t\t<AnimatedText text={horizontalThrust} />\n\t\t\t\t\t\t<AnimatedText text={totalThrust} />\n\t\t\t\t\t</DataCol>\n\t\t\t\t</DimensionData>\n\t\t\t\t<View style={{ width: margin / 2 }} />\n\t\t\t\t<DimensionData>\n\t\t\t\t\t<TitlesCol>\n\t\t\t\t\t\t<Header>{\"Thrust\"}</Header>\n\t\t\t\t\t\t<Text>{\"Front Thrust\"}</Text>\n\t\t\t\t\t\t<Text>{\"Back Thrust\"}</Text>\n\t\t\t\t\t\t<Text>{\"Total Thrust\"}</Text>\n\t\t\t\t\t</TitlesCol>\n\t\t\t\t\t<View style={{ width: margin / 2 }} />\n\t\t\t\t\t<DataCol>\n\t\t\t\t\t\t<Header>{\"-\"}</Header>\n\t\t\t\t\t\t<AnimatedText text={fThrust} />\n\t\t\t\t\t\t<AnimatedText text={bThrust} />\n\t\t\t\t\t\t<AnimatedText text={totalThrust} />\n\t\t\t\t\t</DataCol>\n\t\t\t\t</DimensionData>\n\t\t\t\t<View style={{ width: margin / 2 }} />\n\t\t\t\t<DimensionData>\n\t\t\t\t\t<TitlesCol>\n\t\t\t\t\t\t<Header>{\"Vertical\"}</Header>\n\t\t\t\t\t\t<Text>{\"Acceleration\"}</Text>\n\t\t\t\t\t\t<Text>{\"Velocity\"}</Text>\n\t\t\t\t\t\t<Text>{\"Distance\"}</Text>\n\t\t\t\t\t\t<Text>{\"Max Distance\"}</Text>\n\t\t\t\t\t</TitlesCol>\n\t\t\t\t\t<View style={{ width: margin / 2 }} />\n\t\t\t\t\t<DataCol>\n\t\t\t\t\t\t<Header>{\"-\"}</Header>\n\t\t\t\t\t\t<AnimatedText text={vAccel} />\n\t\t\t\t\t\t<AnimatedText text={vVelo} />\n\t\t\t\t\t\t<AnimatedText text={vDist} />\n\t\t\t\t\t\t<AnimatedText text={vMaxDist} />\n\t\t\t\t\t</DataCol>\n\t\t\t\t</DimensionData>\n\t\t\t\t<View style={{ width: margin / 2 }} />\n\t\t\t\t<DimensionData>\n\t\t\t\t\t<TitlesCol>\n\t\t\t\t\t\t<Header>{\"Horizontal\"}</Header>\n\t\t\t\t\t\t<Text>{\"Acceleration\"}</Text>\n\t\t\t\t\t\t<Text>{\"Velocity\"}</Text>\n\t\t\t\t\t\t<Text>{\"Distance\"}</Text>\n\t\t\t\t\t</TitlesCol>\n\t\t\t\t\t<View style={{ width: margin / 2 }} />\n\t\t\t\t\t<DataCol>\n\t\t\t\t\t\t<Header>{\"-\"}</Header>\n\t\t\t\t\t\t<AnimatedText text={hAccel} />\n\t\t\t\t\t\t<AnimatedText text={hVelo} />\n\t\t\t\t\t\t<AnimatedText text={hDist} />\n\t\t\t\t\t</DataCol>\n\t\t\t\t</DimensionData>\n\t\t\t\t<View style={{ width: margin / 2 }} />\n\t\t\t\t<DimensionData>\n\t\t\t\t\t<TitlesCol>\n\t\t\t\t\t\t<Header>{\"Pitch\"}</Header>\n\t\t\t\t\t\t<Text>{\"Acceleration\"}</Text>\n\t\t\t\t\t\t<Text>{\"Velocity\"}</Text>\n\t\t\t\t\t\t<Text>{\"Angle\"}</Text>\n\t\t\t\t\t</TitlesCol>\n\t\t\t\t\t<View style={{ width: margin / 2 }} />\n\t\t\t\t\t<DataCol>\n\t\t\t\t\t\t<Header>{\"-\"}</Header>\n\t\t\t\t\t\t<AnimatedText text={pAccel} />\n\t\t\t\t\t\t<AnimatedText text={pVelo} />\n\t\t\t\t\t\t<AnimatedText text={pDeg} />\n\t\t\t\t\t</DataCol>\n\t\t\t\t</DimensionData>\n\t\t\t\t<ClockBox></ClockBox>\n\t\t\t</Row>\n\t\t\t<Row>\n\t\t\t\t<FlightMode style={getBoxStyle(\"takeoff\")}>\n\t\t\t\t\t<Text>Takeoff</Text>\n\t\t\t\t</FlightMode>\n\t\t\t\t<FlightMode style={getBoxStyle(\"tilt_to_cruise\")}>\n\t\t\t\t\t<Text>Tilt to Cruise</Text>\n\t\t\t\t</FlightMode>\n\t\t\t\t<FlightMode style={getBoxStyle(\"cruise\")}>\n\t\t\t\t\t<Text>Cruise</Text>\n\t\t\t\t</FlightMode>\n\t\t\t\t<FlightMode style={getBoxStyle(\"tilt_to_land_1\")}>\n\t\t\t\t\t<Text>Tilt to Land I</Text>\n\t\t\t\t</FlightMode>\n\t\t\t\t<FlightMode style={getBoxStyle(\"tilt_to_land_2\")}>\n\t\t\t\t\t<Text>Tilt to Land II</Text>\n\t\t\t\t</FlightMode>\n\t\t\t\t<FlightMode style={getBoxStyle(\"landing\")}>\n\t\t\t\t\t<Text>Landing</Text>\n\t\t\t\t</FlightMode>\n\t\t\t</Row>\n\t\t</>\n\t);\n};\n\nconst Row = styled.View`\n\tflex-direction: row;\n\talign-items: flex-end;\n`;\n\nconst FlightMode = styled(Animated.View)`\n\tborder-color: black;\n\tborder-width: 1px;\n\tpadding: ${margin / 2}px;\n\tflex: 1;\n`;\n\nconst ClockBox = styled.View`\n\talign-items: center;\n\tjustify-content: center;\n\tflex-direction: row;\n\tpadding: ${margin}px;\n`;\n\nconst Clock = styled(AnimatedText)`\n\tfont-size: 24px;\n\twidth: 65px;\n`;\n\nconst DimensionData = styled.View`\n\tflex-direction: row;\n\tpadding: ${margin}px;\n\tborder-width: 1px;\n\tborder-color: #00000013;\n\tborder-radius: 25px;\n`;\n\nconst Header = styled.Text`\n\tfont-size: 24px;\n`;\n\nconst TitlesCol = styled.View``;\n\nconst DataCol = styled.View`\n\twidth: 50px;\n`;\n\nexport default DataPanel;\n","import React from \"react\";\nimport { useWindowDimensions } from \"react-native\";\nimport Animated, { useAnimatedStyle } from \"react-native-reanimated\";\nimport styled from \"styled-components/native\";\nimport { LAT_DISTANCE, LON_DISTANCE } from \"./constants\";\n\ninterface Props {\n\tgrid_move: boolean;\n\tvertical: Animated.SharedValue<{\n\t\tacceleration: number;\n\t\tvelocity: number;\n\t\tdistance: number;\n\t}>;\n\thorizontal: Animated.SharedValue<{\n\t\tacceleration: number;\n\t\tvelocity: number;\n\t\tdistance: number;\n\t}>;\n}\n\nconst Grid: React.FC<Props> = ({ grid_move, vertical, horizontal }) => {\n\tconst { height, width } = useWindowDimensions();\n\n\tconst getLatitudeStyle = (e: number) => {\n\t\t\"worklet\";\n\t\tconst style = useAnimatedStyle(() => {\n\t\t\treturn {\n\t\t\t\ttop: 0.5 * height - e * LAT_DISTANCE,\n\t\t\t\theight: 1,\n\t\t\t\twidth: width / 2,\n\t\t\t\tbackgroundColor: \"black\",\n\t\t\t\topacity: 0.3,\n\t\t\t};\n\t\t});\n\t\treturn style;\n\t};\n\n\tconst getLatitudeTextStyle = (e: number) => {\n\t\t\"worklet\";\n\t\tconst style = useAnimatedStyle(() => {\n\t\t\treturn {\n\t\t\t\ttop: 0.5 * height - 8 - e * LAT_DISTANCE,\n\t\t\t\tleft: -80,\n\t\t\t\twidth: width / 2,\n\t\t\t\tfontSize: 20,\n\t\t\t\tposition: \"absolute\",\n\t\t\t};\n\t\t});\n\t\treturn style;\n\t};\n\n\tconst getLongitudeStyle = (e: number) => {\n\t\tconst style = useAnimatedStyle(() => {\n\t\t\treturn {\n\t\t\t\tleft: e * LON_DISTANCE,\n\t\t\t\theight: height / 2,\n\t\t\t\twidth: 1,\n\t\t\t\tbackgroundColor: \"black\",\n\t\t\t\topacity: 0.3,\n\t\t\t\tposition: \"absolute\",\n\t\t\t};\n\t\t});\n\t\treturn style;\n\t};\n\n\tconst getLongitudeTextStyle = (e: number) => {\n\t\tconst style = useAnimatedStyle(() => {\n\t\t\treturn {\n\t\t\t\ttop: height / 2 + 30,\n\t\t\t\tleft: -8 + e * LON_DISTANCE,\n\t\t\t\theight: height / 2,\n\t\t\t\tfontSize: 20,\n\t\t\t\tposition: \"absolute\",\n\t\t\t};\n\t\t});\n\t\treturn style;\n\t};\n\n\tconst animatedLatitudeStyle = useAnimatedStyle(() => {\n\t\treturn {\n\t\t\ttop: grid_move ? (vertical.value.distance / 10) * LON_DISTANCE : 0,\n\t\t};\n\t});\n\n\tconst animatedLongitudeStyle = useAnimatedStyle(() => {\n\t\treturn {\n\t\t\tleft: grid_move\n\t\t\t\t? -(horizontal.value.distance / 10) * LAT_DISTANCE\n\t\t\t\t: 0,\n\t\t};\n\t});\n\n\tconst animatedLongitudeTextStyle = useAnimatedStyle(() => {\n\t\treturn {\n\t\t\tleft: grid_move\n\t\t\t\t? width / 2 - (horizontal.value.distance / 10) * LAT_DISTANCE\n\t\t\t\t: width / 2,\n\t\t};\n\t});\n\n\tconst AbsoluteBackground = styled(Animated.View)`\n\t\tposition: absolute;\n\t\theight: ${height / 2 + 1}px;\n\t\twidth: ${width / 2}px;\n\t\tleft: ${width / 2 - 1}px;\n\t\toverflow: hidden;\n\t`;\n\n\tconst Longitudes = styled(Animated.View)`\n\t\tposition: absolute;\n\t\theight: ${height / 2}px;\n\t\twidth: ${width / 2}px;\n\t`;\n\n\tconst Latitudes = styled(Animated.View)`\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\theight: ${height / 2}px;\n\t\twidth: ${width / 2}px;\n\t`;\n\n\treturn (\n\t\t<>\n\t\t\t<AbsoluteBackground>\n\t\t\t\t{/* <View\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\t\twidth: 1,\n\t\t\t\t\t\theight: height / 2,\n\t\t\t\t\t\tbackgroundColor: \"black\",\n\t\t\t\t\t}}\n\t\t\t\t/> */}\n\n\t\t\t\t<Latitudes style={animatedLatitudeStyle}>\n\t\t\t\t\t{[...Array(100).keys()].map((index) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<Animated.View\n\t\t\t\t\t\t\t\tstyle={getLatitudeStyle(index)}\n\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</Latitudes>\n\t\t\t\t<Longitudes style={animatedLongitudeStyle}>\n\t\t\t\t\t{[...Array(100).keys()].map((index) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<Animated.View\n\t\t\t\t\t\t\t\tstyle={getLongitudeStyle(index)}\n\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</Longitudes>\n\t\t\t</AbsoluteBackground>\n\t\t\t<Latitudes style={[animatedLatitudeStyle, { left: width / 2 }]}>\n\t\t\t\t{[...Array(100).keys()].map((index) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Animated.Text\n\t\t\t\t\t\t\tstyle={getLatitudeTextStyle(index)}\n\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{index * 10}\n\t\t\t\t\t\t</Animated.Text>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</Latitudes>\n\t\t\t<Longitudes style={animatedLongitudeTextStyle}>\n\t\t\t\t{[...Array(100).keys()].map((index) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Animated.Text\n\t\t\t\t\t\t\tstyle={getLongitudeTextStyle(index)}\n\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{index * 10}\n\t\t\t\t\t\t</Animated.Text>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</Longitudes>\n\t\t</>\n\t);\n};\n\nexport default Grid;\n","import React from \"react\";\nimport {\n\tText,\n\tTouchableWithoutFeedback,\n\tuseWindowDimensions,\n\tView\n} from \"react-native\";\nimport { Gesture, GestureDetector } from \"react-native-gesture-handler\";\nimport Animated, {\n\tcancelAnimation,\n\trunOnJS,\n\tuseAnimatedReaction,\n\tuseAnimatedStyle,\n\tuseSharedValue,\n\twithDecay\n} from \"react-native-reanimated\";\nimport styled from \"styled-components/native\";\nimport { FlightData, FlightOptions } from \"../App\";\nimport Aircraft from \"./Aircraft\";\nimport { margin } from \"./constants\";\nimport DataPanel from \"./DataPanel\";\nimport Grid from \"./Grid\";\nimport { useClock } from \"./hooks/useClock\";\n\ninterface Props {\n\toptions: FlightOptions;\n\tdata: FlightData[];\n\tsetNavigation: React.Dispatch<React.SetStateAction<string>>;\n}\n\nconst Flight: React.FC<Props> = ({ setNavigation, options, data }) => {\n\tconst { width } = useWindowDimensions();\n\tconst grid_move = false;\n\n\tconst mode = useSharedValue(\"\");\n\n\tconst front_thrust_components = useSharedValue({\n\t\ttotal: 0,\n\t\tvertical: 0,\n\t\thorizontal: 0,\n\t});\n\tconst back_thrust_components = useSharedValue({\n\t\ttotal: 0,\n\t\tvertical: 0,\n\t\thorizontal: 0,\n\t});\n\tconst vertical = useSharedValue({\n\t\tacceleration: 0,\n\t\tvelocity: 0,\n\t\tdistance: 0,\n\t\tpotMaxDistance: 0,\n\t});\n\tconst horizontal = useSharedValue({\n\t\tacceleration: 0,\n\t\tvelocity: 0,\n\t\tdistance: 0,\n\t});\n\tconst pitch = useSharedValue({\n\t\tacceleration: 0,\n\t\tvelocity: 0,\n\t\tdistance: 0,\n\t\tdegree: 0,\n\t\trad: 0,\n\t});\n\n\tconst clock_running = useSharedValue(true);\n\tconst clock = useSharedValue(0);\n\tconst _ = useClock(clock, clock_running);\n\n\tuseAnimatedReaction(\n\t\t() => clock.value,\n\t\t(clock) => {\n\t\t\tif (clock < 20) {\n\t\t\t\tconst rounded_clock = Math.round(clock * 100);\n\n\t\t\t\tmode.value = data[rounded_clock].mode;\n\t\t\t\tfront_thrust_components.value =\n\t\t\t\t\tdata[rounded_clock].frontThrustComponents;\n\t\t\t\tback_thrust_components.value =\n\t\t\t\t\tdata[rounded_clock].backThrustComponents;\n\t\t\t\tvertical.value = data[rounded_clock].vertical;\n\t\t\t\thorizontal.value = data[rounded_clock].horizontal;\n\t\t\t\tpitch.value = data[rounded_clock].pitch;\n\n\t\t\t\tconsole.log(rounded_clock / 100, data[rounded_clock].logger);\n\n\t\t\t\t/* console.log(\n\t\t\t\t\trounded_clock,\n\t\t\t\t\tback_thrust_components.value.total,\n\t\t\t\t\tfront_thrust_components.value.total,\n\t\t\t\t\tpitch.value.acceleration,\n\t\t\t\t\tpitch.value.velocity,\n\t\t\t\t\tdata[rounded_clock].logger\n\t\t\t\t\t//logger[rounded_clock]\n\t\t\t\t); */\n\n\t\t\t\t/* text.value = {\n\t\t\t\t\tvertical: {\n\t\t\t\t\t\tacceleration: vertical.value.acceleration.toString(),\n\t\t\t\t\t\tvelocity: vertical.value.velocity.toString(),\n\t\t\t\t\t\tdistance: vertical.value.distance.toFixed(4),\n\t\t\t\t\t},\n\t\t\t\t}; */\n\t\t\t}\n\t\t}\n\t);\n\n\tconst clockBarStyle = useAnimatedStyle(() => {\n\t\treturn {\n\t\t\twidth: (clock.value / 20) * width,\n\t\t};\n\t});\n\n\tconst start_clock = useSharedValue(0);\n\tconst active = useSharedValue(false);\n\tconst panGesture = Gesture.Pan()\n\t\t.onBegin((e) => {\n\t\t\tstart_clock.value = clock.value;\n\t\t\tif (clock_running.value) {\n\t\t\t\tclock_running.value = false;\n\t\t\t\tcancelAnimation(clock);\n\t\t\t}\n\t\t})\n\t\t.onChange((e) => {\n\t\t\tactive.value = true;\n\t\t\tlet drag_clock = start_clock.value + e.translationX * (20 / width);\n\t\t\tlet clamped_drag_clock = Math.max(0, Math.min(drag_clock, 2000));\n\t\t\tclock.value = clamped_drag_clock;\n\t\t})\n\t\t.onFinalize(() => {\n\t\t\t/* if (!active.value) {\n\t\t\t\tif (clock_running.value) {\n\t\t\t\t\tconsole.log(\"stop clock!!\");\n\t\t\t\t\tclock_running.value = false;\n\t\t\t\t\tcancelAnimation(clock);\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log(\"start clock!!\");\n\t\t\t\t\tclock_running.value = true;\n\t\t\t\t}\n\t\t\t} */\n\t\t\t/* clock_running.value = true; */\n\t\t\tactive.value = false;\n\t\t\t//\tclock_running.value = false;\n\t\t})\n\t\t.onEnd((e) => {\n\t\t\tclock.value = withDecay({\n\t\t\t\tvelocity: e.velocityX / 80,\n\t\t\t\tclamp: [0, 20], // optionally define boundaries for the animation\n\t\t\t});\n\t\t});\n\n\tconst animatedBackgroundStyle = useAnimatedStyle(() => {\n\t\tconsole.log(clock_running.value);\n\t\treturn {\n\t\t\tbackgroundColor: clock_running.value ? \"white\" : \"#e2e2e5\",\n\t\t};\n\t});\n\n\tconst toggle_clock_running = () => {\n\t\t\"worklet\";\n\t\tif (clock_running.value) {\n\t\t\tclock_running.value = false;\n\t\t\tcancelAnimation(clock);\n\t\t} else clock_running.value = !clock_running.value;\n\t};\n\n\treturn (\n\t\t<GestureDetector gesture={panGesture}>\n\t\t\t<TouchableWithoutFeedback\n\t\t\t\tonPress={() => {\n\t\t\t\t\trunOnJS(toggle_clock_running)();\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Animated.View\n\t\t\t\t\tstyle={[\n\t\t\t\t\t\tanimatedBackgroundStyle,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tjustifyContent: \"space-between\",\n\t\t\t\t\t\t\tflex: 1,\n\t\t\t\t\t\t},\n\t\t\t\t\t]}\n\t\t\t\t>\n\t\t\t\t\t<Grid\n\t\t\t\t\t\t{...{ grid_move }}\n\t\t\t\t\t\t{...{ vertical }}\n\t\t\t\t\t\t{...{ horizontal }}\n\t\t\t\t\t/>\n\t\t\t\t\t<Aircraft\n\t\t\t\t\t\t{...{ grid_move }}\n\t\t\t\t\t\t{...{ vertical }}\n\t\t\t\t\t\t{...{ horizontal }}\n\t\t\t\t\t\t{...{ pitch }}\n\t\t\t\t\t\t{...{ back_thrust_components }}\n\t\t\t\t\t\t{...{ front_thrust_components }}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<BackButton onPress={() => setNavigation(\"input\")}>\n\t\t\t\t\t\t<Text>x</Text>\n\t\t\t\t\t</BackButton>\n\t\t\t\t\t<View>\n\t\t\t\t\t\t<DataPanel\n\t\t\t\t\t\t\t{...{ clock }}\n\t\t\t\t\t\t\t{...{ pitch }}\n\t\t\t\t\t\t\t{...{ vertical }}\n\t\t\t\t\t\t\t{...{ horizontal }}\n\t\t\t\t\t\t\t{...{ mode }}\n\t\t\t\t\t\t\t{...{ back_thrust_components }}\n\t\t\t\t\t\t\t{...{ front_thrust_components }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Animated.View\n\t\t\t\t\t\t\tstyle={[\n\t\t\t\t\t\t\t\tclockBarStyle,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\theight: 2,\n\t\t\t\t\t\t\t\t\tbackgroundColor: \"black\",\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t></Animated.View>\n\t\t\t\t\t</View>\n\t\t\t\t</Animated.View>\n\t\t\t</TouchableWithoutFeedback>\n\t\t</GestureDetector>\n\t);\n};\n\nconst BackButton = styled.TouchableOpacity`\n\theight: 50px;\n\twidth: 50px;\n\ttop: ${margin / 2}px;\n\tleft: ${margin / 2}px;\n\tjustify-content: center;\n\talign-items: center;\n\tbackground-color: white;\n\tborder-width: 1px;\n\tborder-color: black;\n`;\n\nexport default Flight;\n","import Animated, {\n\tEasing,\n\tuseAnimatedReaction,\n\tuseDerivedValue,\n\tuseSharedValue,\n\twithTiming\n} from \"react-native-reanimated\";\n\nexport const useClock = (\n\tclock: Animated.SharedValue<number>,\n\tclock_running: Animated.SharedValue<boolean>\n) => {\n\tconst runClock = () => {\n\t\t\"worklet\";\n\t\tconst NR_OF_SEC = 20;\n\t\tclock.value = withTiming(\n\t\t\tNR_OF_SEC,\n\t\t\t{\n\t\t\t\tduration: NR_OF_SEC * 1000 - clock.value,\n\t\t\t\teasing: Easing.linear,\n\t\t\t},\n\t\t\t(finished) => {\n\t\t\t\tif (finished === true) {\n\t\t\t\t\tclock.value = 0;\n\t\t\t\t\t//\tclock_running.value = false\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t};\n\n\tuseAnimatedReaction(\n\t\t() => clock_running.value,\n\t\t(clock_running) => {\n\t\t\tif (clock_running) {\n\t\t\t\trunClock();\n\t\t\t}\n\t\t}\n\t);\n\n\tconst formatedClock = useDerivedValue(() => {\n\t\treturn Number((Math.round(clock.value * 100) / 100).toFixed(2));\n\t});\n\n\tconst resultClock = useSharedValue(0);\n\tuseAnimatedReaction(\n\t\t() => formatedClock.value > resultClock.value,\n\t\t(isNew) => {\n\t\t\tif (isNew) resultClock.value = formatedClock.value;\n\t\t}\n\t);\n\treturn resultClock;\n};\n","import { hover_thrust, MAX_THRUST, MAX_THRUST_PER_SIDE } from \"../constants\";\nimport { adjust_for_horizontal, round } from \"./common\";\n\nexport const runLanding = (\n\tengines_running: boolean,\n\tvAcceleration: number,\n\tvVelocity: number,\n\tvDistance: number,\n\tfront_thrust: number,\n\tback_thrust: number,\n\tpitch_angle: number,\n\tlogger: string\n) => {\n\t//START ENGINES\n\tif (!engines_running) {\n\t\tconst potAcceleration = MAX_THRUST - 9.81;\n\t\tlet potVelocity = vVelocity;\n\t\tlet potAltitude = vDistance;\n\t\tfor (let j = 0; j <= 2000; j++) {\n\t\t\tpotVelocity = potVelocity + potAcceleration / 100;\n\t\t\tpotAltitude = potAltitude + potVelocity / 100;\n\t\t\tif (potAltitude <= 0) {\n\t\t\t\tengines_running = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Speed Correction\n\tif (vVelocity > 0 && vAcceleration == 0) {\n\t\tconst correction_thrust = round((-vVelocity / 2) * 100 + 9.81 / 2);\n\n\t\tfront_thrust = Math.min(correction_thrust, MAX_THRUST_PER_SIDE);\n\t\tback_thrust = Math.min(correction_thrust, MAX_THRUST_PER_SIDE);\n\t\tconsole.log(\"speed correct\", correction_thrust);\n\t}\n\n\t//IDLE\n\telse if (engines_running && vVelocity >= 0) {\n\t\tfront_thrust = adjust_for_horizontal(hover_thrust, pitch_angle);\n\t\tback_thrust = adjust_for_horizontal(hover_thrust, pitch_angle);\n\t}\n\n\t//BREAK\n\telse if (engines_running) {\n\t\tlogger = \"yessss\";\n\t\tfront_thrust = adjust_for_horizontal(MAX_THRUST_PER_SIDE, pitch_angle);\n\t\tback_thrust = adjust_for_horizontal(MAX_THRUST_PER_SIDE, pitch_angle)\n\t}\n\n\t//FREE FALL\n\telse {\n\t\tfront_thrust = 0;\n\t\tback_thrust = 0;\n\t}\n\n\treturn {\n\t\tengines_running,\n\t\tvAcceleration,\n\t\tvVelocity,\n\t\tvDistance,\n\t\tfront_thrust,\n\t\tback_thrust,\n\t\tpitch_angle,\n\t\tlogger,\n\t};\n};\n","import { FlightOptions } from \"../../App\";\nimport { hover_thrust, MAX_THRUST_PER_SIDE } from \"../constants\";\nimport { round } from \"./common\";\n\nexport const runTakeoff = (\n\toptions: FlightOptions,\n\tvAcceleration: number,\n\tvVelocity: number,\n\tvDistance: number,\n\tback_thrust: number,\n\tfront_thrust: number,\n\tlogger: string,\n\tmode: string,\n\tvMaxDistance: number\n) => {\n\t\"worklet\";\n\n\t// CALCULATE ALTITUDE ON CUTTOFF\n\tconst potAcceleration = -9.81;\n\tlet potVelocity = vVelocity;\n\tlet potAltitude = vDistance;\n\tlet max_altitude = -100000000;\n\tfor (let i = 0; i <= 2000; i++) {\n\t\tpotVelocity = potVelocity + potAcceleration / 100;\n\t\tpotAltitude = potAltitude + potVelocity / 100;\n\t\tif (potAltitude > max_altitude) max_altitude = round(potAltitude);\n\t}\n\tvMaxDistance = max_altitude;\n\tlogger = vMaxDistance + \"\";\n\n\t// Switch to Cruise\n\tif (\n\t\tvDistance >= options.targetAltitude * 0.5 &&\n\t\tvVelocity == 0 &&\n\t\tvAcceleration == 0\n\t) {\n\t\tmode = \"tilt_to_cruise\";\n\t}\n\n\t// Speed Correction\n\tif (vVelocity < 0 && vAcceleration == 0) {\n\t\tconst correction_thrust = round((-vVelocity / 2) * 100 + 9.81 / 2);\n\n\t\tfront_thrust = Math.min(correction_thrust, MAX_THRUST_PER_SIDE);\n\t\tback_thrust = Math.min(correction_thrust, MAX_THRUST_PER_SIDE);\n\t\tconsole.log(\"speed correct\", correction_thrust);\n\t}\n\n\t//  Thrust\n\telse if (vMaxDistance <= options.targetAltitude * 0.8) {\n\t\tfront_thrust = MAX_THRUST_PER_SIDE;\n\t\tback_thrust = MAX_THRUST_PER_SIDE;\n\t}\n\n\t// Hover\n\telse if (vMaxDistance <= options.targetAltitude) {\n\t\tfront_thrust = hover_thrust;\n\t\tback_thrust = hover_thrust;\n\t}\n\n\t// Free Fall\n\telse {\n\t\tfront_thrust = 0;\n\t\tback_thrust = 0;\n\t}\n\n\treturn {\n\t\tfront_thrust,\n\t\tback_thrust,\n\t\tlogger,\n\t\tmode,\n\t\tvAcceleration,\n\t\tvVelocity,\n\t\tvDistance,\n\t\tvMaxDistance,\n\t};\n};\n","import { FlightOptions } from \"../../App\";\nimport { hover_thrust, thrust_differential } from \"../constants\";\nimport { adjust_for_horizontal, round } from \"./common\";\n\nexport const runTiltToCruise = (\n\toptions: FlightOptions,\n\ttilting: boolean,\n\tvAcceleration: number,\n\tvVelocity: number,\n\tpitch_angle: number,\n\tpitchAcceleration: number,\n\tpitchVelocity: number,\n\tpitchDistance: number,\n\tmode: string,\n\tfront_thrust: number,\n\tback_thrust: number,\n\tlogger: string\n) => {\n\t//TILT CUTTOFF\n\tif (tilting) {\n\t\tconst potPitchAcceleration = adjust_for_horizontal(\n\t\t\t-thrust_differential * 2,\n\t\t\tpitch_angle\n\t\t);\n\t\tlogger = potPitchAcceleration + \"\";\n\t\tlet potPitchVelocity = pitchVelocity;\n\t\tlet potPitchDistance = pitchDistance;\n\t\tfor (let j = 0; j <= 2000; j++) {\n\t\t\tpotPitchVelocity = potPitchVelocity + potPitchAcceleration / 100;\n\t\t\tpotPitchDistance = potPitchDistance + potPitchVelocity / 100;\n\t\t\tconst potPitchAngle = round((potPitchDistance * 180) / Math.PI);\n\t\t\tif (potPitchAngle >= options.maxPitch) {\n\t\t\t\ttilting = false;\n\t\t\t}\n\t\t}\n\n\t\t/* if (pitch_angle >= options.maxPitch / 2) {\n\t\t\n\t\t} */\n\n\t\t/* \n\t\tconst potAcceleration = -9.81;\n\t\tlet potVelocity = vVelocity;\n\t\tlet potAltitude = vDistance;\n\t\tfor (let j = 0; j <= 2000; j++) {\n\t\t\tpotVelocity = potVelocity + potAcceleration / 100;\n\t\t\tpotAltitude = potAltitude + potVelocity / 100;\n\t\t\tif (potAltitude >= options.targetAltitude) {\n\t\t\t\tengines_running = false;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t} \n\t\t*/\n\t}\n\n\t//SWITCH TO CRUISE\n\tif (\n\t\tpitch_angle > options.maxPitch * 0.5 &&\n\t\tpitchVelocity == 0 &&\n\t\tpitchAcceleration == 0\n\t) {\n\t\tlogger = \"speed correct: \" + vVelocity;\n\t\tmode = \"cruise\";\n\t}\n\n\t// Pitch Speed Correction\n\telse if (pitchVelocity < 0 && pitchAcceleration == 0) {\n\t\tconst correction_thrust = round((-pitchVelocity / 2) * 100);\n\n\t\tfront_thrust = adjust_for_horizontal(\n\t\t\t9.81 / 2 - correction_thrust / 2,\n\t\t\tpitch_angle\n\t\t);\n\t\tback_thrust = adjust_for_horizontal(\n\t\t\t9.81 / 2 + correction_thrust / 2,\n\t\t\tpitch_angle\n\t\t);\n\t}\n\n\t// Idle\n\telse if (pitch_angle > options.maxPitch * 0.5 && pitchVelocity <= 0) {\n\t\tif (options.disableHorizontal) {\n\t\t\tfront_thrust = hover_thrust;\n\t\t\tback_thrust = hover_thrust;\n\t\t} else {\n\t\t\tfront_thrust = adjust_for_horizontal(hover_thrust, pitch_angle);\n\t\t\tback_thrust = adjust_for_horizontal(hover_thrust, pitch_angle);\n\t\t}\n\t}\n\n\t// Thrust\n\telse if (tilting) {\n\t\tif (options.disableHorizontal) {\n\t\t\tfront_thrust = hover_thrust - thrust_differential;\n\t\t\tback_thrust = hover_thrust + thrust_differential;\n\t\t} else {\n\t\t\tfront_thrust = adjust_for_horizontal(\n\t\t\t\thover_thrust - thrust_differential,\n\t\t\t\tpitch_angle\n\t\t\t);\n\t\t\tback_thrust = adjust_for_horizontal(\n\t\t\t\thover_thrust + thrust_differential,\n\t\t\t\tpitch_angle\n\t\t\t);\n\t\t}\n\t}\n\n\t// Reverse Thrust\n\telse {\n\t\tif (options.disableHorizontal) {\n\t\t\tfront_thrust = hover_thrust + thrust_differential;\n\t\t\tback_thrust = hover_thrust - thrust_differential;\n\t\t} else {\n\t\t\tfront_thrust = adjust_for_horizontal(\n\t\t\t\thover_thrust + thrust_differential,\n\t\t\t\tpitch_angle\n\t\t\t);\n\t\t\tback_thrust = adjust_for_horizontal(\n\t\t\t\thover_thrust - thrust_differential,\n\t\t\t\tpitch_angle\n\t\t\t);\n\t\t}\n\t}\n\n\treturn {\n\t\ttilting,\n\t\tvAcceleration,\n\t\tvVelocity,\n\t\tpitch_angle,\n\t\tpitchAcceleration,\n\t\tpitchVelocity,\n\t\tpitchDistance,\n\t\tmode,\n\t\tfront_thrust,\n\t\tback_thrust,\n\t\tlogger,\n\t};\n};\n","import { FlightOptions } from \"../../App\";\nimport { hover_thrust, thrust_differential } from \"../constants\";\nimport { adjust_for_horizontal, round } from \"./common\";\n\nexport const runTiltToLand_1 = (\n\toptions: FlightOptions,\n\ttilting: boolean,\n\tmode: string,\n\tpitch_angle: number,\n\tpitchAcceleration: number,\n\tpitchVelocity: number,\n\tpitchDistance: number,\n\tfront_thrust: number,\n\tback_thrust: number,\n\tlogger: string\n) => {\n\tlogger = pitchAcceleration + \" \" + pitchVelocity + \" \" + pitch_angle;\n\n\tconst cutoff_point = 0;\n\t//TILT CUTTOFF\n\tif (tilting) {\n\t\tif (pitch_angle <= cutoff_point) {\n\t\t\ttilting = false;\n\t\t}\n\t}\n\n\t//SWITCH TO TILT TO LAND 2\n\tif (\n\t\tpitch_angle < cutoff_point &&\n\t\tpitchVelocity == 0 &&\n\t\tpitchAcceleration == 0\n\t) {\n\t\tmode = \"tilt_to_land_2\";\n\t\ttilting = true;\n\t}\n\n\t// Pitch Speed Correction\n\telse if (pitchVelocity > 0 && pitchAcceleration == 0) {\n\t\tlogger = logger + \"correct...\";\n\n\t\tconst correction_thrust = round(pitchVelocity * 100);\n\n\t\tfront_thrust =\n\t\t\tadjust_for_horizontal(hover_thrust, pitch_angle) +\n\t\t\tcorrection_thrust / 2;\n\t\tback_thrust =\n\t\t\tadjust_for_horizontal(hover_thrust, pitch_angle) -\n\t\t\tcorrection_thrust / 2;\n\t}\n\n\t// Idle\n\telse if (pitch_angle <= -cutoff_point && pitchVelocity >= 0) {\n\t\tif (options.disableHorizontal) {\n\t\t\tfront_thrust = hover_thrust;\n\t\t\tback_thrust = hover_thrust;\n\t\t} else {\n\t\t\tfront_thrust = adjust_for_horizontal(hover_thrust, pitch_angle);\n\t\t\tback_thrust = adjust_for_horizontal(hover_thrust, pitch_angle);\n\t\t}\n\t}\n\n\t// Reverse Thrust\n\telse if (!tilting && pitch_angle <= cutoff_point) {\n\t\tif (options.disableHorizontal) {\n\t\t\tfront_thrust = hover_thrust - thrust_differential;\n\t\t\tback_thrust = hover_thrust + thrust_differential;\n\t\t} else {\n\t\t\tfront_thrust = adjust_for_horizontal(\n\t\t\t\thover_thrust - thrust_differential,\n\t\t\t\tpitch_angle\n\t\t\t);\n\t\t\tback_thrust = adjust_for_horizontal(\n\t\t\t\thover_thrust + thrust_differential,\n\t\t\t\tpitch_angle\n\t\t\t);\n\t\t}\n\t}\n\n\t// Thrust\n\telse if (options.disableHorizontal) {\n\t\tfront_thrust = hover_thrust + thrust_differential;\n\t\tback_thrust = hover_thrust - thrust_differential;\n\t} else {\n\t\tfront_thrust = adjust_for_horizontal(\n\t\t\thover_thrust + thrust_differential,\n\t\t\tpitch_angle\n\t\t);\n\t\tback_thrust = adjust_for_horizontal(\n\t\t\thover_thrust - thrust_differential,\n\t\t\tpitch_angle\n\t\t);\n\t}\n\n\treturn {\n\t\tlogger,\n\t\ttilting,\n\t\tmode,\n\t\tpitchAcceleration,\n\t\tpitchVelocity,\n\t\tpitchDistance,\n\t\tback_thrust,\n\t\tfront_thrust,\n\t};\n};\n","import { FlightOptions } from \"../../App\";\nimport { hover_thrust, thrust_differential } from \"../constants\";\nimport { adjust_for_horizontal, round } from \"./common\";\n\nexport const runTiltToLand_2 = (\n\toptions: FlightOptions,\n\ttilting: boolean,\n\tmode: string,\n\tpitch_angle: number,\n\tpitchAcceleration: number,\n\tpitchVelocity: number,\n\tpitchDistance: number,\n\tfront_thrust: number,\n\tback_thrust: number,\n\tlogger: string,\n\thVelocity: number\n) => {\n\t//TILT CUTTOFF\n\tif (tilting) {\n\t\tif (pitch_angle >= -options.maxPitch / 2) {\n\t\t\ttilting = false;\n\t\t}\n\t}\n\n\t//SWITCH TO LANDING\n\tif (\n\t\tpitch_angle > -options.maxPitch / 2 &&\n\t\tpitchVelocity == 0 &&\n\t\tpitchAcceleration == 0\n\t) {\n\t\tmode = \"landing\";\n\t}\n\n\t// SPEED CORRECTION\n\telse if (pitchVelocity < 0 && pitchAcceleration == 0) {\n\t\tlogger = logger + \"correct...\";\n\n\t\tconst correction_thrust = round(pitchVelocity * 100);\n\n\t\tfront_thrust =\n\t\t\tadjust_for_horizontal(hover_thrust, pitch_angle) +\n\t\t\tcorrection_thrust / 2;\n\t\tback_thrust =\n\t\t\tadjust_for_horizontal(hover_thrust, pitch_angle) -\n\t\t\tcorrection_thrust / 2;\n\t}\n\n\t//IDLE\n\telse if (!tilting && pitchVelocity <= 0) {\n\t\tif (options.disableHorizontal) {\n\t\t\tfront_thrust = hover_thrust;\n\t\t\tback_thrust = hover_thrust;\n\t\t} else {\n\t\t\tfront_thrust = adjust_for_horizontal(hover_thrust, pitch_angle);\n\t\t\tback_thrust = adjust_for_horizontal(hover_thrust, pitch_angle);\n\t\t}\n\n\t\t//Reverse Thrust\n\t} else if (!tilting) {\n\t\tif (options.disableHorizontal) {\n\t\t\tfront_thrust = hover_thrust + thrust_differential;\n\t\t\tback_thrust = hover_thrust - thrust_differential;\n\t\t} else {\n\t\t\tfront_thrust = adjust_for_horizontal(\n\t\t\t\thover_thrust + thrust_differential,\n\t\t\t\tpitch_angle\n\t\t\t);\n\t\t\tback_thrust = adjust_for_horizontal(\n\t\t\t\thover_thrust - thrust_differential,\n\t\t\t\tpitch_angle\n\t\t\t);\n\t\t}\n\t} else if (hVelocity <= 0) {\n\t\t// Thrust\n\t\tif (options.disableHorizontal) {\n\t\t\tfront_thrust = hover_thrust - thrust_differential;\n\t\t\tback_thrust = hover_thrust + thrust_differential;\n\t\t} else {\n\t\t\tfront_thrust = adjust_for_horizontal(\n\t\t\t\thover_thrust - thrust_differential,\n\t\t\t\tpitch_angle\n\t\t\t);\n\t\t\tback_thrust = adjust_for_horizontal(\n\t\t\t\thover_thrust + thrust_differential,\n\t\t\t\tpitch_angle\n\t\t\t);\n\t\t}\n\t}\n\n\treturn {\n\t\ttilting,\n\t\tmode,\n\t\tpitch_angle,\n\t\tpitchAcceleration,\n\t\tpitchVelocity,\n\t\tpitchDistance,\n\t\tback_thrust,\n\t\tfront_thrust,\n\t\tlogger,\n\t\thVelocity,\n\t};\n};\n","import React, { useState } from \"react\";\nimport { Text, TextInput, TouchableOpacity, View } from \"react-native\";\nimport styled from \"styled-components/native\";\nimport { FlightOptions } from \"../App\";\nimport { margin } from \"./constants\";\n\ninterface Props {\n\tsetOptions: React.Dispatch<React.SetStateAction<FlightOptions>>;\n}\n\nconst FlightOptionInputs: React.FC<Props> = ({ setOptions }) => {\n\tconst [targetAltitude, setTargetAltitude] = useState(40);\n\tconst [targetDistance, setTargetDistance] = useState(40);\n\tconst [maxPitch, setMaxPitch] = useState(45);\n\tconst [aircraftType, setAircraftType] = useState(\"quad\");\n\tconst [disableHorizontal, setDisableHorizontal] = useState<boolean>(false);\n\n\tconst save_input = () => {\n\t\tsetOptions({\n\t\t\ttargetAltitude: targetAltitude,\n\t\t\ttargetDistance: targetDistance,\n\t\t\taircraftType: aircraftType,\n\t\t\tdisableHorizontal: disableHorizontal,\n\t\t\tmaxPitch: maxPitch,\n\t\t});\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<View style={{ height: margin / 2 }} />\n\t\t\t<Text>{\"Altitude (m):\"}</Text>\n\t\t\t<Input\n\t\t\t\tvalue={targetAltitude.toString()}\n\t\t\t\tonChangeText={(e: string) => {\n\t\t\t\t\tconst number = Number(e);\n\t\t\t\t\tif (!isNaN(number)) {\n\t\t\t\t\t\tsetTargetAltitude(number);\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t<View style={{ height: margin / 2 }} />\n\t\t\t<Text>{\"Distance (m):\"}</Text>\n\t\t\t<Input\n\t\t\t\tvalue={targetDistance.toString()}\n\t\t\t\tonChangeText={(e: string) => {\n\t\t\t\t\tconst number = Number(e);\n\t\t\t\t\tif (!isNaN(number)) {\n\t\t\t\t\t\tsetTargetDistance(number);\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t<View style={{ height: margin / 2 }} />\n\t\t\t<Text>{\"Tilt Angle:\"}</Text>\n\t\t\t<Input\n\t\t\t\tvalue={maxPitch.toString()}\n\t\t\t\tonChangeText={(e: string) => {\n\t\t\t\t\tconst number = Number(e);\n\t\t\t\t\tif (!isNaN(number)) {\n\t\t\t\t\t\tsetMaxPitch(number);\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t<View style={{ height: margin / 2 }} />\n\t\t\t<View style={{ flexDirection: \"row\" }}>\n\t\t\t\t<TouchableOpacity onPress={() => setAircraftType(\"quad\")}>\n\t\t\t\t\t<Toggle\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tbackgroundColor:\n\t\t\t\t\t\t\t\taircraftType == \"quad\" ? \"white\" : \"lightgrey\",\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Text>Quad</Text>\n\t\t\t\t\t</Toggle>\n\t\t\t\t</TouchableOpacity>\n\t\t\t\t<TouchableOpacity\n\t\t\t\t\tonPress={() => setAircraftType(\"tail_sitter\")}\n\t\t\t\t>\n\t\t\t\t\t<Toggle\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tbackgroundColor:\n\t\t\t\t\t\t\t\taircraftType == \"tail_sitter\"\n\t\t\t\t\t\t\t\t\t? \"white\"\n\t\t\t\t\t\t\t\t\t: \"lightgrey\",\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Text>Tail Sitter</Text>\n\t\t\t\t\t</Toggle>\n\t\t\t\t</TouchableOpacity>\n\t\t\t</View>\n\n\t\t\t<View style={{ height: margin / 2 }} />\n\t\t\t<View style={{ flexDirection: \"row\" }}>\n\t\t\t\t<TouchableOpacity\n\t\t\t\t\tonPress={() => {\n\t\t\t\t\t\tsetDisableHorizontal((curr: boolean) => !curr);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<Toggle\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tbackgroundColor: disableHorizontal\n\t\t\t\t\t\t\t\t? \"white\"\n\t\t\t\t\t\t\t\t: \"lightgrey\",\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Text>Disable Horizontal Modement</Text>\n\t\t\t\t\t</Toggle>\n\t\t\t\t</TouchableOpacity>\n\t\t\t\t<View style={{ height: margin / 2 }} />\n\t\t\t</View>\n\t\t\t<View style={{ height: margin / 2 }} />\n\t\t\t<TouchableOpacity\n\t\t\t\tstyle={{\n\t\t\t\t\tbackgroundColor: \"#55ad5e\",\n\t\t\t\t\theight: 100,\n\t\t\t\t\tjustifyContent: \"center\",\n\t\t\t\t\talignItems: \"center\",\n\t\t\t\t}}\n\t\t\t\tonPress={() => {\n\t\t\t\t\tsave_input();\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Text style={{ fontSize: 30, color: \"white\" }}>Go</Text>\n\t\t\t</TouchableOpacity>\n\t\t</>\n\t);\n};\n\nconst Input = styled(TextInput)`\n\tborder-color: black;\n\tborder-width: 1px;\n\tpadding: ${margin / 2}px;\n`;\n\nconst Toggle = styled.View`\n\tpadding: ${margin / 2}px;\n\tborder-width: 1px;\n\tborder-color: black;\n`;\n\nexport default FlightOptionInputs;\n","import React, { useEffect } from \"react\";\nimport { Text, View } from \"react-native\";\nimport { FlightData, FlightOptions } from \"../App\";\nimport { calculateFlight } from \"./calculations/main\";\nimport { margin } from \"./constants\";\nimport FlightOptionInputs from \"./FlightOptionInputs\";\n\ninterface Props {\n\toptions: FlightOptions;\n\tsetOptions: React.Dispatch<React.SetStateAction<FlightOptions>>;\n\tsetData: React.Dispatch<React.SetStateAction<FlightData[]>>;\n\tsetNavigation: React.Dispatch<React.SetStateAction<string>>;\n\tnavigation: string;\n}\n\nconst Planner: React.FC<Props> = ({\n\toptions,\n\tsetOptions,\n\tsetData,\n\tsetNavigation,\n\tnavigation,\n}) => {\n\tuseEffect(() => {\n\t\tif (navigation == \"input\" && options.aircraftType !== \"\")\n\t\t\tsetOptions({\n\t\t\t\taircraftType: \"\",\n\t\t\t\ttargetAltitude: 0,\n\t\t\t\ttargetDistance: 0,\n\t\t\t\tdisableHorizontal: true,\n\t\t\t\tmaxPitch: 0,\n\t\t\t});\n\t}, [options, navigation]);\n\n\tuseEffect(() => {\n\t\tif (options.aircraftType !== \"\") {\n\t\t\tconst flightData = calculateFlight(options);\n\t\t\tsetData(flightData);\n\t\t\tsetNavigation(\"flight\");\n\t\t}\n\t}, [options]);\n\n\treturn (\n\t\t<View style={{ margin: margin }}>\n\t\t\t<Text>Flight Planner</Text>\n\t\t\t<FlightOptionInputs {...{ setOptions }} />\n\t\t</View>\n\t);\n};\n\nexport default Planner;\n","import { FlightData, FlightOptions } from \"../../App\";\nimport { round } from \"./common\";\nimport { runLanding } from \"./landing\";\nimport { runTakeoff } from \"./takeoff\";\nimport { runTiltToCruise } from \"./tilt_to_cruise\";\nimport { runTiltToLand_1 } from \"./tilt_to_land_1\";\nimport { runTiltToLand_2 } from \"./tilt_to_land_2\";\n\nexport const calculateFlight = (options: FlightOptions) => {\n\tconst flightData: FlightData[] = [];\n\n\tlet engines_running = false;\n\tlet tilting = true;\n\n\tlet mode = \"takeoff\";\n\n\tlet potMaxDistance = 0;\n\tlet vAcceleration = 0;\n\tlet vVelocity = 0;\n\tlet vDistance = 0;\n\tlet hAcceleration = 0;\n\tlet hVelocity = 0;\n\tlet hDistance = 0;\n\tlet front_thrust = 0;\n\tlet back_thrust = 0;\n\n\tlet pitchAcceleration = 0;\n\tlet pitchVelocity = 0;\n\tlet pitchDistance = 0;\n\tlet pitch_angle = 0;\n\n\tlet logger = \"\";\n\n\tfor (let i = 0; i <= 2000; i++) {\n\t\tlogger = \"\";\n\t\t//TAKEOFF\n\t\tif (mode == \"takeoff\") {\n\t\t\tconst results = runTakeoff(\n\t\t\t\toptions,\n\t\t\t\tvAcceleration,\n\t\t\t\tvVelocity,\n\t\t\t\tvDistance,\n\t\t\t\tback_thrust,\n\t\t\t\tfront_thrust,\n\t\t\t\tlogger,\n\t\t\t\tmode,\n\t\t\t\tpotMaxDistance\n\t\t\t);\n\t\t\tvAcceleration = results.vAcceleration;\n\t\t\tvVelocity = results.vVelocity;\n\t\t\tvDistance = results.vDistance;\n\t\t\tback_thrust = results.back_thrust;\n\n\t\t\tfront_thrust = results.front_thrust;\n\t\t\tlogger = results.logger;\n\t\t\tmode = results.mode;\n\t\t\tpotMaxDistance = results.vMaxDistance;\n\t\t}\n\n\t\t//CRUISE4\n\t\tif (mode == \"tilt_to_cruise\") {\n\t\t\tconst results = runTiltToCruise(\n\t\t\t\toptions,\n\t\t\t\ttilting,\n\t\t\t\tvAcceleration,\n\t\t\t\tvVelocity,\n\t\t\t\tpitch_angle,\n\t\t\t\tpitchAcceleration,\n\t\t\t\tpitchVelocity,\n\t\t\t\tpitchDistance,\n\t\t\t\tmode,\n\t\t\t\tfront_thrust,\n\t\t\t\tback_thrust,\n\t\t\t\tlogger\n\t\t\t);\n\t\t\ttilting = results.tilting;\n\t\t\tvAcceleration = results.vAcceleration;\n\t\t\tvVelocity = results.vVelocity;\n\t\t\tpitch_angle = results.pitch_angle;\n\t\t\tpitchAcceleration = results.pitchAcceleration;\n\t\t\tpitchVelocity = results.pitchVelocity;\n\t\t\tpitchDistance = results.pitchDistance;\n\t\t\tmode = results.mode;\n\t\t\tfront_thrust = results.front_thrust;\n\t\t\tback_thrust = results.back_thrust;\n\t\t\tlogger = results.logger;\n\t\t}\n\t\tif (mode == \"cruise\") {\n\t\t\tif (hDistance >= 30) {\n\t\t\t\tmode = \"tilt_to_land_1\";\n\t\t\t}\n\t\t\t// Reverse Thrust\n\t\t}\n\t\tif (mode == \"tilt_to_land_1\") {\n\t\t\tconst results = runTiltToLand_1(\n\t\t\t\toptions,\n\t\t\t\ttilting,\n\t\t\t\tmode,\n\t\t\t\tpitch_angle,\n\t\t\t\tpitchAcceleration,\n\t\t\t\tpitchVelocity,\n\t\t\t\tpitchDistance,\n\t\t\t\tfront_thrust,\n\t\t\t\tback_thrust,\n\t\t\t\tlogger\n\t\t\t);\n\t\t\tlogger = results.logger;\n\t\t\ttilting = results.tilting;\n\t\t\tpitchVelocity = results.pitchVelocity;\n\t\t\tpitchAcceleration = results.pitchAcceleration;\n\t\t\tpitchDistance = results.pitchDistance;\n\t\t\tmode = results.mode;\n\t\t\tback_thrust = results.back_thrust;\n\t\t\tfront_thrust = results.front_thrust;\n\t\t}\n\t\tif (mode == \"tilt_to_land_2\") {\n\t\t\tconst results = runTiltToLand_2(\n\t\t\t\toptions,\n\t\t\t\ttilting,\n\t\t\t\tmode,\n\t\t\t\tpitch_angle,\n\t\t\t\tpitchAcceleration,\n\t\t\t\tpitchVelocity,\n\t\t\t\tpitchDistance,\n\t\t\t\tfront_thrust,\n\t\t\t\tback_thrust,\n\t\t\t\tlogger,\n\t\t\t\thVelocity\n\t\t\t);\n\t\t\ttilting = results.tilting;\n\t\t\tmode = results.mode;\n\t\t\tpitch_angle = results.pitch_angle;\n\t\t\tpitchAcceleration = results.pitchAcceleration;\n\t\t\tpitchVelocity = results.pitchVelocity;\n\t\t\tpitchDistance = results.pitchDistance;\n\t\t\tback_thrust = results.back_thrust;\n\t\t\tfront_thrust = results.front_thrust;\n\t\t\tlogger = results.logger;\n\t\t\thVelocity = results.hVelocity;\n\t\t}\n\n\t\tif (mode == \"landing\") {\n\t\t\tconst results = runLanding(\n\t\t\t\tengines_running,\n\t\t\t\tvAcceleration,\n\t\t\t\tvVelocity,\n\t\t\t\tvDistance,\n\t\t\t\tfront_thrust,\n\t\t\t\tback_thrust,\n\t\t\t\tpitch_angle,\n\t\t\t\tlogger\n\t\t\t);\n\t\t\tengines_running = results.engines_running;\n\t\t\tvAcceleration = results.vAcceleration;\n\t\t\tvVelocity = results.vVelocity;\n\t\t\tvDistance = results.vDistance;\n\t\t\tfront_thrust = results.front_thrust;\n\t\t\tback_thrust = results.back_thrust;\n\t\t\tpitch_angle = results.pitch_angle;\n\t\t\tlogger = results.logger;\n\t\t}\n\n\t\t// Pitch Angle\n\t\tpitchAcceleration = round(back_thrust - front_thrust);\n\t\tpitchVelocity = round(pitchVelocity + round(pitchAcceleration / 100));\n\t\tpitchDistance = round(pitchDistance + round(pitchVelocity / 100));\n\t\tpitch_angle = round((pitchDistance * 180) / Math.PI);\n\n\t\t// Thrust Components\n\t\tconst front_vertical = round(\n\t\t\tMath.cos((pitch_angle * Math.PI) / 180) * front_thrust\n\t\t);\n\t\tconst front_horizontal = round(\n\t\t\tMath.sin((pitch_angle * Math.PI) / 180) * front_thrust\n\t\t);\n\t\tconst back_vertical = round(\n\t\t\tMath.cos((pitch_angle * Math.PI) / 180) * back_thrust\n\t\t);\n\t\tconst back_horizontal = round(\n\t\t\tMath.sin((pitch_angle * Math.PI) / 180) * back_thrust\n\t\t);\n\n\t\t// Vertical Movement\n\t\tif (options.disableHorizontal) {\n\t\t\tvAcceleration = round(front_thrust + back_thrust - 9.81);\n\t\t} else vAcceleration = round(front_vertical + back_vertical - 9.81);\n\t\tvVelocity = round(vVelocity + round(vAcceleration / 100));\n\t\tvDistance = round(vDistance + round(vVelocity / 100));\n\n\t\t// Horizontal Movement\n\t\tif (!options.disableHorizontal) {\n\t\t\thAcceleration = round(front_horizontal + back_horizontal);\n\t\t\tconsole.log(hAcceleration);\n\t\t\thVelocity = round(hVelocity + round(hAcceleration / 100));\n\t\t\thDistance = round(hDistance + round(hVelocity / 100));\n\t\t}\n\n\t\tconst flightMoment: FlightData = {\n\t\t\tmode: mode,\n\t\t\tfrontThrustComponents: {\n\t\t\t\ttotal: front_thrust,\n\t\t\t\tvertical: front_vertical,\n\t\t\t\thorizontal: front_horizontal,\n\t\t\t},\n\t\t\tbackThrustComponents: {\n\t\t\t\ttotal: back_thrust,\n\t\t\t\tvertical: back_vertical,\n\t\t\t\thorizontal: back_horizontal,\n\t\t\t},\n\t\t\tvertical: {\n\t\t\t\tacceleration: vAcceleration,\n\t\t\t\tvelocity: vVelocity,\n\t\t\t\tdistance: vDistance,\n\t\t\t\tpotMaxDistance: potMaxDistance,\n\t\t\t},\n\t\t\thorizontal: {\n\t\t\t\tacceleration: hAcceleration,\n\t\t\t\tvelocity: hVelocity,\n\t\t\t\tdistance: hDistance,\n\t\t\t},\n\t\t\tpitch: {\n\t\t\t\tacceleration: pitchAcceleration,\n\t\t\t\tvelocity: pitchVelocity,\n\t\t\t\tdistance: pitchDistance,\n\t\t\t\tdegree: pitch_angle,\n\t\t\t\trad: round((pitch_angle * Math.PI) / 180),\n\t\t\t},\n\t\t\tlogger: logger,\n\t\t};\n\n\t\tflightData.push(flightMoment);\n\t}\n\n\treturn flightData;\n};\n","import { StatusBar } from \"expo-status-bar\";\nimport React, { useState } from \"react\";\nimport { SafeAreaView, useWindowDimensions } from \"react-native\";\nimport styled from \"styled-components/native\";\nimport Flight from \"./src/Flight\";\nimport Planner from \"./src/Planner\";\n\nexport interface FlightData {\n\tmode: string;\n\tfrontThrustComponents: ThrustComponents;\n\tbackThrustComponents: ThrustComponents;\n\tvertical: {\n\t\tacceleration: number;\n\t\tvelocity: number;\n\t\tdistance: number;\n\t\tpotMaxDistance: number;\n\t};\n\thorizontal: {\n\t\tacceleration: number;\n\t\tvelocity: number;\n\t\tdistance: number;\n\t};\n\tpitch: {\n\t\tacceleration: number;\n\t\tvelocity: number;\n\t\tdistance: number;\n\t\tdegree: number;\n\t\trad: number;\n\t};\n\tlogger: string;\n}\n\nexport interface ThrustComponents {\n\ttotal: number;\n\tvertical: number;\n\thorizontal: number;\n}\n\nexport interface FlightOptions {\n\ttargetAltitude: number;\n\ttargetDistance: number;\n\taircraftType: string;\n\tdisableHorizontal: boolean;\n\tmaxPitch: number;\n}\n\nconst App: React.FC<{}> = ({}) => {\n\tconst { width } = useWindowDimensions();\n\tconst [data, setData] = useState<FlightData[]>([]);\n\tconst [options, setOptions] = useState<FlightOptions>({\n\t\ttargetAltitude: 0,\n\t\ttargetDistance: 0,\n\t\taircraftType: \"\",\n\t\tdisableHorizontal: false,\n\t\tmaxPitch: 0,\n\t});\n\tconst [navigation, setNavigation] = useState<string>(\"input\");\n\n\tconst Background = styled.View`\n\t\tflex: 1;\n\t\twidth: ${width}px;\n\t\toverflow: hidden;\n\t\tbackground-color: #e2e2e5;\n\t`;\n\n\treturn (\n\t\t<SafeAreaView style={{ flex: 1 }}>\n\t\t\t<Background>\n\t\t\t\t<StatusBar style=\"dark\" />\n\t\t\t\t{navigation == \"input\" || navigation == \"planner\" ? (\n\t\t\t\t\t<Planner\n\t\t\t\t\t\t{...{ options }}\n\t\t\t\t\t\t{...{ setOptions }}\n\t\t\t\t\t\t{...{ setData }}\n\t\t\t\t\t\t{...{ navigation }}\n\t\t\t\t\t\t{...{ setNavigation }}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<Flight\n\t\t\t\t\t\t{...{ setNavigation }}\n\t\t\t\t\t\t{...{ options }}\n\t\t\t\t\t\t{...{ data }}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</Background>\n\t\t</SafeAreaView>\n\t);\n};\n\nexport default App;\n"],"sourceRoot":""}